// ==UserScript==
// @name         Stack Review Suggested Edits Rework
// @description  Make reviewing nice again!
// @namespace    scratte-fiddlings
// @version      1.2.2
//
// @author       Scratte (https://stackoverflow.com/users/12695027)
// @contributor  Oleg Valter (https://stackoverflow.com/users/11407695)
// @contributor  double-beep (https://stackoverflow.com/users/10607772)
//
// @include      /^https://stackoverflow.com/review/suggested-edits.*/
// @exclude      /^https://stackoverflow.com/review/suggested-edits/(stats|history)/
// @include      /^https://superuser.com/review/suggested-edits.*/
// @exclude      /^https://superuser.com/review/suggested-edits/(stats|history)/
// @include      /^https://serverfault.com/review/suggested-edits.*/
// @exclude      /^https://serverfault.com/review/suggested-edits/(stats|history)/
// @include      /^https://stackapps.com/review/suggested-edits.*/
// @exclude      /^https://stackapps.com/review/suggested-edits/(stats|history)/
//
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_deleteValue
// ==/UserScript==
!function(){"use strict";const e={colour:{postType:"#d1383d",summary:"#f48024",radioSeperator:"var(--blue-200)",progressDone:"#f48024",progressNotDone:"var(--black-075)",progressTextColour:"var(--black-600)",editorHeader:"hotpink",editorApproved:"var(--green-600)",editorRejected:"var(--red-600)",editorTotal:"var(--powder-700)",message:"var(--yellow-700)",messageBackground:"var(--powder-200)",diffChoices:"orchid",ownerBorder:"var(--theme-secondary-200)",ownerBackground:"var(--theme-post-owner-background-color)"},size:{editorStatistics:"96%",summary:"150%",radioSeperator:"2",message:"150%",apiQuotaLimit:"500"},options:{radioVsButtons:{moveRadioBox:"Yes",tooltips:"No",keepRadios:"No",radioWithBorders:"Yes",largerClickArea:"Yes"},moveProgressBar:"Yes",movePageTitleLink:"Yes",AnswerQuestionOnTop:"Yes",highlightSummary:"No",prominentReviewMessage:"Yes",keepDiffChoices:"Yes",moveDiffChoices:"No",moveNextButtons:"No",userCards:{useStackUserCards:"No",newContributor:"Yes",getUserCards:"Yes",withEditiorStats:"No"},postSummary:{useStackSummary:"No",useAPI:"No"},wantNewModeratorFlair:"No",reviewFilters:{removeTextFilters:"Yes",putAlertIcon:"Yes",keepFilterList:"No"},removeLineThrough:"Yes",linksOnTitles:"No",highlightUserOwner:"Yes"}},t="Stack Review Suggested Edits Rework",s=t.replaceAll(" ",""),n=!!window.GM_getValue&&!!window.GM_setValue&&!!window.GM_deleteValue,o=r();function r(){let t=i();return t||(a(e),t=i()),t}function i(){return n?window.GM_getValue(s):JSON.parse(localStorage.getItem(s))}function a(e){n?window.GM_setValue(s,e):localStorage.setItem(s,JSON.stringify(e))}let d={};const c=/^\/review\/(next-task|task-reviewed)/;function l(e){$(document).ajaxComplete(((s,n,{url:o})=>{if(c.test(o)){if(d.error)return void console.error(t+" - "+d.error);e()}}))}$(document).ajaxComplete(((e,t,s)=>{if(c.test(s.url))if(t.responseJSON)d=t.responseJSON;else try{d=JSON.parse(t.responseText)}catch(e){d.error=_.error}}));const p=(e,t)=>e.find((({tabMenu:e})=>e===t)),u=(e,t)=>e.find((({name:e})=>e===t)),m=(e,t,s)=>e.find((({tabMenu:e})=>e===t))?.items.find((({name:e})=>e===s)),g=(e,t)=>{let s=e;return t.split(".").forEach((e=>s&&=s[e])),s},f=(e,t,s)=>{let n=e;const o=t.split(".");o.slice(0,-1).forEach((e=>n=n[e]||={})),n[o.slice(-1)]=s};function y(e){const t=document.querySelector(e);t&&t.remove()}function v(e,t,s,n){const{classList:o,style:r,textContent:i}=e;e.textContent=(i||"").trim().replace(/^Comment/,"Summary"),r.fontSize=s,r.color=t,o.remove(n)}function h(e,t=!1){const{classes:{buttons:{button:s,muted:n,outlined:r,xsmall:i,selected:a,group:d},filterDiff:c,navigation:l,spaces:{marginBottom16:p}},selectors:{content:{reviewPost:u,diffs:m}}}=_,g=[...document.querySelectorAll(`${u} > ${m} > [id]`)].map((e=>function(e,d,c){const l=document.createElement("button");l.type="button",l.classList.add(s,n,r,i),"Inline"===e&&l.classList.add(a);l.id=d,t||l.setAttribute("aria-controls",c);return l.setAttribute("role","tab"),l.textContent=e,l.style.color=o.colour.diffChoices,l}(e.dataset.type.replace("Html","").replace("SideBySide","Side-by-side").replace("Markdown"," Markdown"),e.getAttribute("aria-labelledby"),e.id))),f=document.createElement("div");t||f.classList.add(c),f.classList.add(d),f.dataset.controller=l,f.append(...g),f.setAttribute("role","tablist");const y=document.createElement("div");return y.classList.add(p),y.id=e,y.append(f),y}function w(e,t,s,n){const{firstChild:o,firstElementChild:r}=e;if(!r||!o||o.nodeType!==Node.TEXT_NODE||""===o.nodeValue.trim())return;const i=document.createElement("p");i.textContent=o.nodeValue.trim(),i.style.color=t,i.style.backgroundColor=s,i.style.padding="5px",i.style.fontSize=n,e.insertBefore(i,r),o.nodeValue=""}function S(){return!1===d.isUnavailable}function b(e){return/skip/i.test(e)}function x(e,t=!1){const s=document.querySelector(_.selectors.filter.dialog);if(!s)return;const{previousElementSibling:n}=s;if(n){if(t){const{firstElementChild:t}=n;t&&n.insertBefore(e,t.nextSibling)}else n.appendChild(e);n.style.justifyContent="space-between"}}function C(e,t){const{classes:{userCards:{moderatorFlair:s,owner:n}},selectors:{users:{userReputation:o,badges:r,newContributorLabel:i}}}=_,a=e.classList?.contains(n),d=e.querySelector(i);let c=e.querySelector(t.userLink);if(!c)return{};const l="author"===c.getAttribute("itemprop"),p=c.querySelector("a:not(span > a)"),u=!!p&&p.href;let m;if(u){let e=u.match(/\/users\/(-?\d+)\//);e&&(m=+e[1])}if(!p){const e=c.querySelector("span");e&&(c=e)}if(!e.querySelector(t.userAvatar))return{};const g=e.querySelector(t.userAvatar+" img"),f=e.querySelector(t.userAwards);if(!f)return{};const y={},v=f.querySelector(o);if(v){y.reputation={amount:v.textContent,title:v.title.trim()};if(f.querySelector(r)){y.badges={};for(const e of["gold","silver","bronze"]){const t=f.querySelector(`[title~=${e}]`);y.badges[e]=t?parseInt(t.textContent):0}}}const h=!!c.querySelector("."+s);return{userId:m,accountLink:u,displayName:p?p.textContent:c.textContent,profileImage:!!g&&g.src,isModerator:h,isOwner:a,isPostOwner:l,newContributor:d,achievements:y}}function E(e,t=!1){const s=e.querySelector("span[title]");if(!s)return{};const n=e.textContent.trim().split(" ")[0].toLowerCase(),o={showTime:s.textContent,timeUTC:s.title,prefix:n};if(t){e.querySelector("a")?o.revisions=e:o.timeElement=s}return o}const L="Base",k="Minimal";function T({accountLink:e,displayName:t,isModerator:s,userId:n},r){const i="Yes"===g(o,"options.userCards.useStackUserCards"),a="Yes"===g(o,"options.wantNewModeratorFlair"),{display:{container:d,cell:c,gap4px:l,baseline:p},sUserCards:{cardLink:u},userCards:{moderatorFlair:m},badges:{base:f,xsmall:y,moderator:v}}=_.classes,h=e?document.createElement("a"):document.createElement("span");e&&(h.classList.add(u),h.href=e);const w=-1===n;switch(r){case L:h.classList.add(d),i?h.classList.add(u):e||(h.style.padding="2px");const n=document.createElement("div");n.classList.add(c),n.textContent=t,h.append(n),h.style.overflowWrap="anywhere",(s||w)&&(a&&h.classList.add(l),h.append(S(!0,a,w)));break;default:h.style.fontSize="100%",h.style.paddingLeft="5px",h.textContent=t,(s||w)&&h.append(S(!1,a,w))}function S(e,t,s){const n=e?document.createElement("div"):document.createElement("span");if(t){n.classList.add(f,y),s||(n.classList.add(v),n.style.color="#fff",n.style.backgroundColor="#07c");const t=document.createElement("span");t.style.marginBottom="-2px",t.textContent=s?"Bot":"Mod",n.append(t),e?n.classList.add(c):(n.style.marginBottom="3px",n.style.marginLeft="5px")}else s?(n.textContent="🞚",n.style.fontSize="95%"):(n.textContent="♦",n.style.fontSize="135%"),n.classList.add(m);return n.title=s?"Community Bot — not a real person":"moderator",n}return w&&!a&&h.classList.add(p),h}function A({accountLink:e,profileImage:t},s){const{classes:{sUserCards:{avatar:n,cardAvatar:o,avatarSize32:r,image:i}}}=_,a=document.createElement("img");a.classList.add(i),a.src=e?t:"https://stackoverflow.design/assets/img/anonymous-user.svg";const d=e?document.createElement("a"):document.createElement("span");switch(d.classList.add(n,o),e&&(d.href=e),d.append(a),s){case L:d.classList.add(r);break;default:a.style.width="20px",a.style.height="20px",d.style.backgroundColor=M}return d}function O(e){const{sUserCards:t}=_.classes,{reputation:s}=e,n=document.createElement("li");n.classList.add(t.cardRep),n.textContent=s.amount,n.title=s.title;const o=document.createElement("ul");o.classList.add(t.cardAwards),o.style.flexWrap="wrap",o.append(n);const{badges:r}=e;return r&&(i(o,r.gold,"gold"),i(o,r.silver,"silver"),i(o,r.bronze,"bronze")),o;function i(e,s,n){if(s>0){const o=document.createElement("li");o.classList.add(t.bling,t[n]),o.textContent=s,o.title=s+" "+n+" "+(1===s?"badge":"badges"),e.append(o)}}}function B(e,t){const{showTime:s,timeUTC:n,prefix:o,timeElement:r,revisions:i}=e,a=document.createElement("time");return a.classList.add(_.classes.sUserCards.cardTime),i?(a.append(i),a):(t===k&&(a.style.fontSize="100%",a.style.paddingLeft="15px"),r?(a.textContent=o+" ",a.append(r),a):(a.textContent=o+" "+s,a.dateTime=n,a.title=n,a))}function P(){const e=g(o,"options.userCards");if("Yes"!==e?.getUserCards)return;const s="Yes"===e?.useStackUserCards,n="Yes"===e?.newContributor,{ids:{custom:{userCards:r}},selectors:{content:{reviewPost:i}},classes:{display:{container:a,start:d}}}=_;if(document.getElementById(r))return;const c=document.querySelector(`${i} > .${a}`);function l(e,t){const{card:o,info:r,highlighted:i,cardDeleted:a,cardType:c}=_.classes.sUserCards,l=L,p=T(e,l),u=A(e,l),m=document.createElement("div");m.classList.add(r),e.isPostOwner&&m.setAttribute("itemprop","author"),m.append(p);const g=document.createElement("div");g.classList.add(o),g.style.width="200px",e.isOwner&&g.classList.add(i),g.append(B(t,l),u,m);const{achievements:f}=e;if(f&&0!==Object.getOwnPropertyNames(f).length?m.append(O(f)):(g.classList.add(a),s||g.classList.add(d),e.pii&&m.append(e.pii)),n&&e.newContributor){const t=document.createElement("div");t.className=c,t.append(e.newContributor),t.style.marginBottom="-30px",t.querySelector("svg").style.verticalAlign="middle",g.append(t)}return g}c&&(async function(e){const{selectors:{content:{originalPost:n}},classes:{answers:r,userCards:{signature:i}}}=_,a=document.querySelector(`${n} a`);if(!a)return!1;const{href:c,hash:p,classList:u}=a,m=u.contains(r)?"#answer-"+p.substring(1):".question";e.style.justifyContent="space-between",e.classList.add(d);try{const t=await fetch(c),n=await t.text(),o=[...(new DOMParser).parseFromString(n,"text/html").querySelectorAll(`${m} .${i}`)],r=o.length?t.status:404,a={errorNotFound:["The original post is unavailable.","User cards cannot be retrieved."],responseNotOk:["Tried to fetch usercards, but",`Stack responded with status: ${r}`]},p={200:()=>function(e){const{gravatarSmall:t}=_.classes.userCards,n=y();if(n.classList.add(d),!s)return z(e,`.${_.classes.userCards.details} > span`),n.append(...e),n;const o=e.map((e=>0!==e.querySelector(`.${t}`)?.children.length?function(e){const{details:t,gravatarSmall:s,flair:n,actionTime:o}=_.classes.userCards,r=C(e,{userLink:"."+t,userAvatar:"."+s,userAwards:"."+n}),i=e.querySelector("."+o);if(!i)return;const a=E(i,!0);return l(r,a)}(e):e));return n.append(...o),n}(o),404:()=>f(a.errorNotFound),default:()=>f(a.responseNotOk)},u=(p[r]||p.default)();e.append(u),U(u)}catch(s){const n=["Something is blocking fetching user cards","Could be your ad-blocker or your network connection.","Check the console."];console.error(t+" - originalPostUserCards - error",s),e.append(f(n))}"Yes"!==g(o,"options.radioVsButtons.moveRadioBox")&&(e.style.width=function(){const{main:e,revision:t,reviewMargin:s}=_.selectors.content,n=document.querySelector(e),o=document.querySelector(t+" "+s);return n&&o?n.clientWidth-o.clientWidth+"px":"orange"}());function f(e){const t=y(!1);t.style.backgroundColor="var(--red-050)",t.style.border="1px solid var(--red-100)",t.style.padding="8px",t.style.margin="6px";const s=e.map((e=>{const t=document.createElement("h4");return t.textContent=e,t.style.color="var(--theme-body-font-color)",t.style.padding="2px",t}));return t.append(...s),t}function y(e=!0){const{ids:{custom:{userCards:t}},classes:{display:{container:s}}}=_,n=document.createElement("div");return n.id=t,e&&n.classList.add(s),n}R()}(c),function(e){if(!e)return;const n=e.querySelector("span");if(!n)return;const{classes:{sUserCards:{cardMinimal:r}},selectors:{users:{pii:i}}}=_,a=e.querySelector("."+r);if(!a){const t=e.querySelector(i),s=p(null,n,t);return void n.replaceWith(s)}const d=a.querySelector("a");if(!d)return;const[c]=d.href.split("/").slice(-2);function p(e,t,n){const o=null===e;if(s||o){const r=E(t,!s);if(o){const e={};n&&(e.pii=n);const s=t.textContent.match(/by(?: an)? (.+)/)||[];return e.displayName=s[1]||F,l(e,r)}const{header:i,gravatar:a,flair:d}=_.classes.userCards.um;return l(C(e,{userLink:"."+i,userAvatar:"."+a,userAwards:"."+d}),r)}return function(e,t){const{classes:{display:{cell:s},userCards:n},size:{gravatarSmall:o},ids:{custom:{editorCard:r}}}=_,i=document.createElement("div");i.id=r,i.classList.add(n.signature,s);const a=document.createElement("div");a.classList.add(n.info,n.hover);const d=document.createElement("div");d.classList.add(n.actionTime),d.textContent="proposed ",d.appendChild(t.firstElementChild);const c=e.querySelector(`.${n.um.gravatar}`);if(!c)return;const{classList:l}=c;l.remove(n.um.gravatar),l.add(n.gravatarSmall);const p=c.querySelector(`.${n.gravatarWrap}`);if(!p)return;const{classList:u}=p;u.remove(n.gravatarWrap),u.add(n.gravatarSmallWrap);const m=p.querySelector("img");if(!m)return;m.style.height=m.style.width=o;const g=document.createElement("div");g.classList.add(n.details);const f=e.querySelector(`.${n.um.header}`);if(!f)return;const y=f.querySelector("a");if(!y)return;const v=f.querySelector(`.${n.moderatorFlair}`),h=f.querySelector("span"),w=e.querySelector(`.${n.um.flair}`);if(!w)return;const{classList:S}=w;return S.remove(n.um.flair),S.add(n.flair),g.append(y,v||(h&&"Bot"===h.textContent.trim()?h:""),w),a.append(d,c,g),i.appendChild(a),z([i],`.${_.classes.userCards.details} > span`),i}(e,t)}fetch(`https://${Y}/review/user-info/1/${c}`).then((e=>{if(!e.ok)throw new Error("Response status was: "+e.status);return e.text()})).then((e=>{const s=p((new DOMParser).parseFromString(e,"text/html"),n);a.before(s),U(s),a.remove(),n.remove(),"Yes"===g(o,"options.userCards.withEditiorStats")&&function(e,s){const n=async e=>{const s=new URL(`${D}/${I}/users/${e}/suggested-edits`),n={site:Y,filter:"!3xgWlhxc4ZsL1tY5Y",key:_.apiKey,pagesize:100};s.search=new URLSearchParams(n).toString();const o=e=>new Promise((t=>setTimeout(t,e)));async function r(e,s){try{const t=await fetch(`${e.toString()}&page=${s}`);return t.ok?t.json():{}}catch(e){console.error(t+" - error fetching editor stats from the API - makeApiCall",e)}}const i=[];let a=!0,d=1;for(;a;){const e=await r(s,d),{items:t=[],has_more:n,backoff:c=0}=e;a=n,d++,i.push(...t),q(e),await o(1e3*c)}return i},r=document.createElement("div");r.classList.add(_.classes.display.container),e.before(r),r.appendChild(e);const{colour:i}=o,a=o.size.editorStatistics;s<0?r.appendChild(K([],i,a,-1)):n(s).then((e=>r.appendChild(K(e,i,a,s))))}(s,c)})).catch((e=>{console.error(t+" - Error - while fetching editorUserCard : ",e)}))}(c))}function q(t){let s=parseInt(g(o,"size.apiQuotaLimit"));isNaN(s)&&(s=g(e,"size.apiQuotaLimit"));const{quota_remaining:n,backoff:r,error_message:i}=t;n<=s&&N(n,"quota"),r&&N(r,"throttle"),i&&N(i,"error")}function N(e,s,n){const o={quota:`<p>${F}${t}.</p>\n                          <p${n?` id=${n}`:""}>${F}You're low on API quota (remaining: ${e}).<br/>\n                            ${F}Consider turning both of these off:</p><ul><li>"with editor statistics" under "Add user cards" </li>\n                                <li>"Using Stack Exchange API" under "Stack Design post summary"</li></ul>`,error:`<p>${t}</p>Stack API says: <p>${e}</p>`,throttle:`<p>${F}${t}</p>\n                            <p>${F}Stack API says:<br/>\n                               ${F}Wait <b>${e}</b> seconds before making another API request!</p>\n                            <p>${F}You can avoid this by turning both of these off:</p><ul><li>"with editor statistics" under "Add user cards" </li>\n                                <li>"Using Stack Exchange API" under "Stack Design post summary"</li></ul>`},{display:{container:r,cell:i,spaceBetween:a},buttons:{button:d,notice:c},notice:{toast:l,base:p,warning:u,padding:m}}=_.classes,g=document.createElement("button");g.classList.add(d,c),g.type="button","undefined"!=typeof Svg?g.append(Svg.ClearSm().get(0)):g.textContent="✖";const f=document.createElement("div");f.classList.add(r),f.style.marginTop="-4px",f.style.marginRight="-2px",f.append(g);const y=document.createElement("div");y.classList.add(i),y.innerHTML=o[s];const v=document.createElement("div");v.classList.add(r,a),v.style.alignItems="flex-start",v.append(y,f);const h=document.createElement("aside");if(h.classList.add(p,u,m),h.append(v),n)return h;const w=document.createElement("div");w.classList.add(l),w.setAttribute("aria-hidden","false"),w.append(h),g.addEventListener("click",(e=>{w.setAttribute("aria-hidden","true")})),document.body.append(w)}function U(e=document){e.querySelectorAll("img").forEach((e=>{e.addEventListener("error",(t=>{e.src="https://i.stack.imgur.com/Y2OIR.png"}),{once:!0})}))}function R(e,t,s=o){const{ids:{custom:{userCards:n}},classes:{sUserCards:{card:r},userCards:{signature:i,owner:a},notice:{listReset:d,expandable:c},commentUser:l}}=_;if(!e){if(S()||"Yes"!==g(o,"options.highlightUserOwner"))return;const{classes:{display:{desktopHide:s}},selectors:{reviews:{banner:a}}}=_;if(!(e=document.querySelector(a))||e.classList.contains(s))return;z([e],`.${d} > li > div > span`),z([e],`.${c} ul > li > a`,!0);const l=document.getElementById(n);if(!l)return;const p=l.querySelectorAll(`.${r} div[itemprop=author] a, .${i} div[itemprop=author] a`)[0]?.href;if(!p)return;if(!(t=p.substring(p.indexOf("/users/"))))return}const{colour:{ownerBorder:p,ownerBackground:u}}=s;e.querySelectorAll("a").forEach((e=>{e.href.indexOf(t)>-1&&(e.classList.add(l,a),e.style.border="1px solid",e.style.borderColor=p,e.style.backgroundColor=u,e.style.margin="3px 0px")}))}function z(e,t,s=!1){if("Yes"===g(o,"options.wantNewModeratorFlair"))return;const{classes:{userCards:{moderatorFlair:n}}}=_,r=e=>{e.textContent="🞚",e.style.fontSize="95%",e.className=n,e.title="Community Bot — not a real person"};if(s){const s="/users/-1/community";[...e].forEach((e=>{e.querySelectorAll(t).forEach((e=>{if(e.href.indexOf(s)>-1){if(e.querySelector("span")?.classList.contains(n))return;[...e.parentElement.children].forEach((e=>{e.classList.contains(n)}));const t=document.createElement("span");r(t),e.append(t)}}))}))}else[...e].forEach((e=>{e.querySelectorAll(t).forEach((e=>{e&&"Bot"===e.textContent.trim()&&(r(e),e.previousElementSibling?.append(e))}))}))}const M="var(--white)",D="https://api.stackexchange.com",Y=window.location.hostname,I=2.2,F=" ",_={apiKey:"YeacD0LmoUvMwthbBXF7Lw((",ids:{custom:{userCards:s+"-UserCards",editorCard:s+"-EditorCard",buttons:s+"-RealButtons",postType:s+"-PostType",actionRadios:s+"-ActionRadios",diffChoices:s+"-DiffChoices",keepDiffChoices:s+"-KeepDiffChoices",progressBar:s+"-Progressbar",postSummary:s+"-postSummary",tagFilters:s+"-tagFilters",tagFilterIcon:s+"-tagFilterIcon"}},error:"Oh No! Oh no-no-no-no-no! Arrrrrrrgh!...",tags:{radios:"fieldset"},classes:{display:{container:"d-flex",desktopHide:"d-none",displayBlock:"d-block",cell:"flex--item",center:"ai-center",start:"ai-start",baseline:"ai-baseline",spaceBetween:"jc-space-between",gap4px:"gs4"},spaces:{marginBottom12:"mb12",marginBottom16:"mb16",negativeMargin:"mxn12",titleSpace:"ml12"},choiceRadios:{fieldset:["fd-column","p12"],submits:["bt","bc-black-3"],button:"pt12",widget:"s-sidebarwidget",radioParent:"js-action-radio-parent"},sUserCards:{card:"s-user-card",info:"s-user-card--info",highlighted:"s-user-card__highlighted",cardMinimal:"s-user-card__minimal",carlSmall:"s-user-card__small",cardTime:"s-user-card--time",cardAwards:"s-user-card--awards",cardRep:"s-user-card--rep",cardLink:"s-user-card--link",cardType:"s-user-card--type",cardDeleted:"s-user-card__deleted",avatar:"s-avatar",avatarSize32:"s-avatar__32",image:"s-avatar--image",cardAvatar:"s-user-card--avatar",bling:"s-award-bling",gold:"s-award-bling__gold",silver:"s-award-bling__silver",bronze:"s-award-bling__bronze"},userCards:{signature:"post-signature",info:"user-info",details:"user-details",actionTime:"user-action-time",gravatarSmall:"user-gravatar32",gravatarSmallWrap:"gravatar-wrapper-32",gravatarWrap:"gravatar-wrapper-64",flair:"-flair",moderatorFlair:"mod-flair",hover:"user-hover",owner:"owner",um:{gravatar:"um-gravatar",header:"um-header-info",flair:"um-flair"}},badges:{base:"s-badge",small:"s-badge__sm",xsmall:"s-badge__xs",moderator:"s-badge__moderator",green:"s-badge__rep",red:"s-badge__rep-down",grey:"s-badge__votes"},buttons:{button:"s-btn",primary:"s-btn__primary",outlined:"s-btn__outlined",danger:"s-btn__danger",muted:"s-btn__muted",loading:"is-loading",small:"s-btn__sm",xsmall:"s-btn__xs",selected:"is-selected",group:"s-btn-group",notice:"s-notice--btn"},tags:{meta:"s-post-summary--meta",metaTag:"s-post-summary--meta-tags",tag:"s-tag",legacyTag:"post-tag"},notice:{toast:"s-toast",base:"s-notice",warning:"s-notice__warning",padding:"p8",listReset:"list-reset",expandable:"s-expandable"},postSummary:{base:"s-post-summary",stats:"s-post-summary--stats",item:"s-post-summary--stats-item",content:"s-post-summary--content",contentTitle:"s-post-summary--content-title",hasAnswers:"has-answers",hasAccepted:"has-accepted-answer",supernova:"is-supernova",hot:"is-hot",warm:"is-warm",link:"s-link",summaryAnswers:"s-post-summary--has-answer",summaryAccepted:"s-post-summary--has-accepted-answer"},postSummaryLegacy:{contentBox:"narrow",cursorPointer:"cp",square:"mini-counts",scoreClass:"votes",viewsClass:"views",answerClass:"status",answered:"answered",accepted:"answered-accepted"},summary:"fc-red-800",answers:"answer-hyperlink",filterDiff:"js-diff-choices",navigation:"s-navigation-tablist",commentUser:"comment-user"},size:{gravatarSmall:"32",radio:"0.905em"},selectors:{postTitleFontSize:".fs-title",actions:{reviewTask:".s-page-title--actions a",radioActionsBox:".js-actions-sidebar",reviews:".js-review-actions"},buttons:{action:".js-action-button",submit:".js-review-submit"},reviews:{done:".js-reviews-done",daily:".js-reviews-per-day",banner:"[role=status]"},filter:{button:".js-review-filter-button",choices:".js-review-filter-summary",dialog:"#js-review-filter-id"},title:{divwrapper:".s-page-title",actionsTabs:".s-page-title--actions",description:".s-page-title--description",learnMore:".js-show-modal-from-nav.s-link",title:".s-page-title--text",header:".s-page-title--header"},content:{content:".js-review-content",originalPost:".js-question-title-link",main:".mainbar-full",reviewPost:".postcell",reviewMargin:".votecell",revision:"#panel-revision",tabs:".js-review-tabs",task:".js-review-task",diffs:".diffs"},users:{userReputation:".reputation-score",badges:".v-visible-sr",newContributorLabel:".js-new-contributor-label",pii:".pii"},diffs:{diffDelete:"span.diff-delete",diffAdd:"span.diff-add"},acceptedAnswer:".js-accepted-answer-indicator",fullReview:"content"}};function j(e,t,s,n,o=!0){const r=e=>e.replace(/\D/g,""),i=(e,t=1)=>0!==t&&e?i(e.parentElement,t-1):e;(e=>{if(!s||!n)return!1;const a=r(s.textContent||"0"),d=r(n.textContent||"0"),c=(e=>`${Math.trunc(100*e)}%`)(+d/+a);if(!e)return!1;const{style:l}=e,{progressDone:p,progressNotDone:u,progressTextColour:m}=t;l.background=`linear-gradient(90deg, ${p} ${c}, ${u} ${c})`,l.setProperty("color",m,"important"),e.textContent=`Review tasks (${d}/${a})`,(e=>{const t=i(e,3);!!t&&(t.id=_.ids.custom.progressBar,o?t.style.display="none":t.style.visibility="hidden")})(s)})(e)}function K(e,t,s,n=0){const o=e=>{const t={get ratio(){const{approved:e,rejected:t,total:s}=this;return{ofApproved:e/s,ofRejected:t/s,approvedToRejected:(0===e?NaN:e)/(0===t?NaN:t)}},approved:0,rejected:0,total:0};return e.forEach((({approval_date:e,rejection_date:s})=>{t.total+=1,e&&(t.approved+=1),s&&(t.rejected+=1)})),t},r=(e,t=!1)=>t?isFinite(e)?`(${Math.trunc(100*e)}%)`:F.repeat(4):isFinite(e)?e.toFixed(2):"N/A",i=(e,t=!1)=>{const s=document.createElement("tr");var n;return s.style.color=e.colour,t?s.append((e=>{const t=document.createElement("b");t.innerText=e.items[0];const s=document.createElement("th");if(s.colSpan=4,e.userId>0){const n=document.createElement("a");n.style.color=e.colour;const o=window.location.origin;o&&(n.href=`${o}/users/${e.userId}?tab=activity&sort=suggestions`),n.append(t),s.append(n)}else s.append(t);return s})(e)):s.append(...(n=e.items,n.map((e=>{const t=document.createElement("td");return t.innerText=e,t})))),s},a=({relativeFontSize:e,header:t,rows:s})=>{const n=document.createElement("table");if(n.style.marginTop="5px",n.style.fontSize=e,t){const e=i(t,!0);n.append(e)}const o=s.map((e=>i(e)));return n.append(...o),n},d=(...e)=>{const t=document.createElement("div");return t.classList.add(_.classes.display.cell),t.append(...e),t};return((e,t,s,n)=>{const{approved:i,rejected:c,total:l,ratio:{approvedToRejected:p,ofApproved:u,ofRejected:m}}=o(e),g={colour:t.editorHeader},f={relativeFontSize:s,header:{...g,items:["Editor Statistics (non-deleted posts)"],userId:n},rows:[]};if(n<0)return f.rows.push({...g,items:[F]}),f.rows.push({...g,items:["This user does not suggest edits :)"]}),d(a(f));if(!l){const e=document.getElementById(_.ids.custom.postType);if(e&&["Question","Answer"].indexOf(e.textContent)<0)return f.rows.push({...g,items:[F]}),f.rows.push({...g,items:["Tag wiki/excerpt edits are not returned."]}),f.rows.push({...g,items:["Please see the user's activity tab"]}),d(a(f))}return f.rows.push({colour:t.editorApproved,items:[`Approved:${F}`,i,`${F} ${r(u,!0)}`,`${F} Ratio: ${r(p)}`]}),f.rows.push({colour:t.editorRejected,items:["Rejected:",c,`${F} ${r(m,!0)}`]}),f.rows.push({colour:t.editorTotal,items:["Of total:",l,F,`${F} ${l-(i+c)} Pending`]}),d(a(f))})(e,t,s,n)}const W=(e=!1)=>{const[n]=window.location.pathname.split("/").slice(-1);if(window[s+"-reviewID"]===n)return;window[s+"-reviewID"]=n;const r=g(o,"options.radioVsButtons"),i=r?.moveRadioBox,a=r?.keepRadios;"Yes"===i&&("Yes"!==a?async function(e){const s="Yes"===g(o,"options.radioVsButtons.tooltips"),n="skip",r="disable",i="enable",a="hide",c="unhide",l="no-op",p=new Map([["Reject",l],["",l],["Submit",l],["Skip",n],["Approve",r],["Improve edit",r],["Reject and edit",r],["Cancel",i],["Reject edit",r],["Save edits",r],["Approve and reopen",r],["Approve and leave closed",r],["Side-by-side Markdown",l],["Side-by-side",l],["Inline",l],["Revision",l],["Question",l],["Other answers",l],["Filter",l],["Apply filter",r],["Clear",r],["Hide results",l],["Next task",l],["Reviewer stats",l],["Restore tab settings",l],["Apply & Exit",l],["✖",l]]);if(!S()&&!e)return void N(a);const{ids:{custom:{buttons:u}},classes:{choiceRadios:{widget:m,radioParent:f},display:{container:v,cell:h,gap4px:w},buttons:C},selectors:{actions:E,buttons:L}}=_;if(document.querySelector(`#${u}`))y(`#${u}`);else{document.body.addEventListener("click",(e=>{if("button"===e.target.type||"BUTTON"===e.target.nodeName){const t=e.target.innerText.trim(),[s]=[["Skip",b],["Other answers",e=>/^(Other a|A)nswer/.test(e)]].find((([e,s])=>s(t)))||[t];N(p.get(s))}}));const e=document.querySelector(E.radioActionsBox);e&&(e.style.display="none")}const k=document.querySelector(`.${m}${E.reviews}`);if(!k)return;const T=k.querySelector(L.submit);if(!T)return;const A=function(){const e=document.createElement("div");return e.id=u,e.classList.add(v,w),e}(),O=[...k.querySelectorAll("."+f)].map((e=>{const s=e.querySelector("input[type=radio]"),n=e.querySelector("label"),o=e.querySelector("p");if(s&&o&&n&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE)return q({value:n.firstChild.nodeValue.trim(),tip:o.textContent},[s,T]);console.error(t+" - "+_.error+" - shadowRadiosToButtons")}));if(!O.length)return;A.append(...O);const B=k.querySelector(L.action);if(!B)return;const P=B.textContent?.trim();if(!b(P))return;A.append(q({value:P},[B])),x(A),N(n);let{actionDelay:$}=d;function q(e,t){const n=document.createElement("button");return n.type="button",n.classList.add(C.button,h),n.textContent=e.value,s&&e.tip&&(n.title=e.tip),b(e.value)?(n.style.minWidth="70px",n.classList.add(C.outlined)):n.classList.add(C.primary),n.addEventListener("click",(()=>{t.forEach((e=>e.click()))})),n}function N(e){if(!e)return void console.error(t+" - shadowRadiosToButtons - No such state");if(e===l)return;const{ids:{custom:{buttons:s}},classes:{buttons:{loading:o},display:{desktopHide:d}}}=_,p=document.querySelector("#"+s);if(p)switch(e){case n:[...p.children].forEach((e=>{b(e.textContent)?e.classList.add(o):e.disabled=!0}));break;case r:[...p.children].forEach((e=>e.disabled=!0));break;case i:[...p.children].forEach((e=>{e.disabled=!1,b(e.textContent)&&e.classList.remove(o)}));break;case a:p.classList.add(d);break;case c:p.classList.remove(d)}}$&&!isNaN($)||($=0),await new Promise((e=>setTimeout(e,$))),N(i)}(e):function(e){const{ids:{custom:{actionRadios:t}},classes:{choiceRadios:s,display:{cell:n,container:r,displayBlock:i,center:a},spaces:{negativeMargin:d}},selectors:{actions:{reviews:c,radioActionsBox:l}},tags:{radios:p},size:{radio:u}}=_,{colour:{radioSeperator:m},size:{radioSeperator:f}}=o,y=g(o,"options.radioVsButtons"),v=y?.radioWithBorders,h=y?.largerClickArea,w=y?.tooltips,C=document.getElementById(t);if(C)C.remove();else{const e=document.querySelector(l);e&&(e.style.display="none")}if(!S()&&!e)return;const E=document.querySelector(`.${s.widget}${c}`);if(!E)return;const{firstElementChild:L,classList:k,lastElementChild:T}=E;if(!T)return;L&&L.remove(),k.remove(s.widget),E.id=t;const{lastElementChild:A,classList:O,style:B}=T;if(O.remove(...s.fieldset),B.textAlign="center",!A)return;const{firstElementChild:P,classList:$}=A;if($.remove(...s.submits),!P)return;const{firstElementChild:q,classList:N,style:U}=P;if(N.remove(s.button),U.marginLeft="5px",!q)return;[...q.children].filter((e=>b(e.innerText.trim()))).forEach((e=>e.style.minWidth="70px"));const R=T.querySelectorAll(`${c} > ${p} > div[class="${n}"]`);R.length&&(R.forEach((e=>{const{firstElementChild:t,classList:s,style:o}=e,d=e.querySelector("p");if(!d||!t)return;const{firstElementChild:c,lastElementChild:l}=t;if(!c||!l)return;const p=l.firstElementChild;if(!p)return;if("Yes"===h){const e=c.firstElementChild;if(!e)return;e.style.margin="2.5px 0px 0px 0px",e.style.width=u,e.style.height=u,p.append(e),p.classList.add(r,a),p.classList.remove(i),p.style.flexDirection="column",t.append(p),c.remove(),l.remove()}else{const t=e.querySelectorAll("."+n);if(t&&2===t.length){const{parentElement:e}=t[0];e&&e.append(t[0])}}"Yes"===w&&(t.title=d.textContent),d.remove(),t.classList.remove(r),s.remove(n),o.padding="4px";const g=p.textContent||"";"Yes"===v&&"Approve"!==g.trim()&&(o.paddingLeft="3px",o.borderLeft=`${m} solid ${f}px`)})),$.remove(d),A.style.marginRight="-12px",x(E))}(e)),function(){if("Yes"!==g(o,"options.moveProgressBar"))return;const e=Array.from(document.querySelectorAll(_.selectors.actions.reviewTask)).find((({href:e})=>/\/review\/suggested-edits/.test(e))),t=o.colour,{daily:s,done:n}=_.selectors.reviews;j(e,t,document.querySelector(s),document.querySelector(n))}(),function(){if("Yes"!==g(o,"options.AnswerQuestionOnTop"))return;(e=>{const{ids:{custom:{postType:t}},selectors:{title:{divwrapper:s,header:n,actionsTabs:r},content:{content:i},postTitleFontSize:a},classes:{spaces:{marginBottom12:d}}}=e,c=document.getElementById(t);c&&c.remove();const l=document.querySelector(s);if(!l)return!1;const p=e=>{const t=l.querySelector(r);return!!t&&(l.insertBefore(e,t),!0)};let u=document.querySelector(`${i} h2`),m=document.querySelector(`${i} ${a}`);m&&(u=m.previousElementSibling);const g="H2"===u?.tagName;if(g&&m)return u.remove(),[...m.children].forEach((e=>e.style.fontSize="1.6rem")),m.classList.remove(d),m.id=t,void p(m);if(g&&(m=u),!m)return!1;const f=l.querySelector(n);if(!f)return!1;const y=f.cloneNode();y.id=t,y.style.paddingRight="80px",y.style.color=o.colour.postType;const v=m.textContent?.match(/^Review the following (.*) edit$/)||"";v&&(y.textContent=v[1].split(" ").map((e=>e[0].toUpperCase()+e.substring(1))).join(" ")),p(y)&&m.remove()})(_)}(),function(){if("Yes"!==g(o,"options.highlightSummary"))return;const{size:{summary:e},colour:{summary:t}}=o,{classes:{summary:s}}=_,n=document.querySelector(`.${s}`);n&&v(n,t,e,s)}(),function(){const{classes:{display:{desktopHide:e},notice:{base:t},spaces:{marginBottom12:s}},selectors:{reviews:{banner:n}}}=_,r=document.querySelector(n);if(!r)return;if(r.classList.contains(e)){const e=r.parentElement?.querySelector(`:is(div > aside.${t})`);e&&e.classList.add(s)}if("Yes"!==g(o,"options.prominentReviewMessage"))return;const i=r.firstElementChild;if(!i)return;const{colour:{message:a,messageBackground:d},size:{message:c}}=o;w(i,a,d,c)}(),function(){if("Yes"!==g(o,"options.keepDiffChoices"))return;const{ids:{custom:{keepDiffChoices:e}},classes:{filterDiff:t},selectors:{fullReview:s,content:{revision:n}}}=_,r=document.getElementById(s);if(!r)return;if(r.querySelector(`.${t}:not([id])`))return;const i=document.querySelector(n);i&&i.insertBefore(h(e),i.firstChild)}(),function(){if("Yes"!==g(o,"options.moveDiffChoices"))return;const{ids:{custom:{diffChoices:e,keepDiffChoices:t}},classes:{filterDiff:s,buttons:{small:n,xsmall:r}},selectors:{fullReview:i}}=_;y(`#${e}`);const a=document.getElementById(i);if(!a)return;const d=a.querySelector("."+s);if(!d)return;x(d,!0),d.id=e,[...d.children].forEach((e=>{e.classList.remove(r),e.classList.add(n)}));const c=document.getElementById(t);c&&c.remove()}(),P(),function(){const{selectors:{content:{revision:e,tabs:t}}}=_,s=document.querySelector(e);if(!s)return;document.querySelector(t)||(s.style.borderTop="var(--black-100) solid 1px",s.style.paddingTop="10px")}(),function(){const e=g(o,"options.reviewFilters"),t="Yes"===e?.removeTextFilters,s="Yes"===e?.putAlertIcon,n="Yes"===e?.keepFilterList,{ids:{custom:{tagFilters:r,tagFilterIcon:i}},selectors:{filter:{button:a,choices:d}},classes:{display:{container:c,desktopHide:l},tags:{legacyTag:p}}}=_,u=document.querySelector(a);if(!u)return;const m=document.querySelector(d);if(!m)return;const f=m.textContent?.trim()||"";if(!t)return void function(e,t){if(v([t]))return;const s=document.createElement("div");s.classList.add(c),e.replaceWith(s);const n=document.createElement("div");n.id=r,n.append(t),s.style.alignItems="center",s.append(u,n)}(u,m);m.classList.contains(l)||m.classList.add(l);const y=u.querySelector(`#${i}`);if(f){if(s&&!y){let e;"undefined"!=typeof Svg?e=Svg.AlertCircle().get(0):(e=document.createElement("span"),e.textContent="🛈",e.style.fontSize="175%",e.style.verticalAlign="sub",u.style.paddingTop="5px",u.style.paddingBottom="5px"),e.id=i,u.append(e)}}else y&&y.remove();function v(e){const t=document.getElementById(r);return!!t&&([...t.children].forEach((e=>e.remove())),t.append(...e),!0)}n&&function(e,t){const s=t.split(" ").filter((e=>""!==e)).map((e=>{const t=e.replaceAll("[","").replaceAll("]",""),s=document.createElement("a");s.classList.add(p),s.href=`https://${Y}/questions/tagged/${t}`,s.textContent=t,s.style.padding="1px 2px 1px 2px";const n=document.createElement("span");return n.append(s),n}));if(v(s))return;const n=document.createElement("div");n.classList.add(c),e.replaceWith(n);const o=document.createElement("div");o.classList.add(c),o.id=r,o.style.flexDirection="column",o.style.justifyContent="center",o.style.margin="-12px",o.style.marginLeft="5px",o.append(...s),n.append(e,o)}(u,f)}(),function(){if("Yes"!==g(o,"options.moveNextButtons"))return;const{classes:{display:{container:e,desktopHide:t}},selectors:{reviews:{banner:s}}}=_,n=document.querySelector(s);if(!n||n.classList.contains(t))return;let r=n.querySelector("div > div");if(!r){const t=n.querySelector("button");if(!t)return;r=document.createElement("div"),r.classList.add(e),t.parentElement?.append(r),r.append(t)}r.style.flexDirection="row-reverse"}(),function(){if("Yes"!==g(o,"options.linksOnTitles"))return;const{selectors:{postTitleFontSize:e,content:{originalPost:t}}}=_,s=document.querySelectorAll(`h1${e}`);if(s.length>0){const e=document.querySelector(t+" a");if(!e)return;const n=e.href;n&&[...s].forEach((e=>{const t=document.createElement("a");t.href=n,e.replaceWith(t),t.append(e)}))}}(),async function(){const e="Yes"===g(o,"options.postSummary.useStackSummary"),{classes:{postSummary:{base:t,item:s,stats:n,hasAnswers:r,hasAccepted:i,content:a,contentTitle:d,link:c,warm:l,hot:p,supernova:u,summaryAnswers:m,summaryAccepted:f},tags:{meta:y,metaTag:v,tag:h,legacyTag:w},badges:{base:S,small:b,green:x,red:L,grey:P},sUserCards:{card:$,carlSmall:N,cardDeleted:R,cardAwards:z,avatar:M,cardTime:j,cardLink:K},userCards:{moderatorFlair:W},display:{container:H},postSummaryLegacy:{contentBox:V,cursorPointer:Q,square:G,scoreClass:J,viewsClass:X,answerClass:Z,answered:ee,accepted:te}},selectors:{diffs:{diffAdd:se},content:{task:ne},users:oe,acceptedAnswer:re},ids:{custom:{postSummary:ie}}}=_,ae=[[u,1e5,()=>Svg.FireSm.With("va-text-bottom mrn2").get(0)],[p,1e4],[l,1e3]],de=e=>ae.sort((([e,t],[s,n])=>n-t)).find((([t,s])=>e>=s))||[],ce=[[P,e=>0===e],[x,e=>e>0],[L,e=>e<0]],le=document.querySelector(`.${t}`);if(!le)return;const pe=le.querySelector(`.${d} a`);if(!pe)return;let ue="Yes"===g(o,"options.postSummary.useAPI");const me=pe.href.toString().split("/")[4],ge=ue?await async function(e){const t=Y,s=_.apiKey,n=`${D}/${I}/questions/${e}?filter=UdJdPp-(maNxziAUeISHs&site=${t}&key=${s}`,o=await fetch(n);if(!o.ok)return{};const r=await o.json();return q(r),r.items[0]}(me):{};ge&&0!==Object.getOwnPropertyNames(ge).length||(ue=!1);const fe={};if(ue){const{owner:{badge_counts:e,reputation:t,link:s,profile_image:n,display_name:o,user_type:r},tags:i,creation_date:a,title:d,closed_date:c,closed_reason:l,view_count:p,score:u,accepted_answer_id:m,answer_count:g}=ge;fe.answer={isAnswered:0!==g,hasAcceptedAnswer:!!m,text:g+(1!==g?" answers":" answer")},fe.postScore=u,fe.viewCount=p,fe.title={link:pe.href,text:d+(c?"Duplicate"===l?" [duplicate]":" [closed]":"")},fe.tags=[...i].map((e=>{const t=document.createElement("a");return t.href=`https:/${Y}/questions/tagged/${e}`,t.classList.add(h),t.textContent=e,t.title=`show questions tagged '${e}'`,t})),fe.postedTime={showTime:function e(t,s=!1){if(!t)return;const n=(new Date).getTime()/1e3-t+StackExchange.options.serverTimeOffsetSec;var o;return isNaN(n)||n<0?void 0:(!s&&n<2?"just now":!s&&n<60&&(1===(o={seconds:Math.floor(n)}).seconds?o.seconds+" sec ago":o.seconds+" secs ago"))||!s&&n<120&&"1 min ago"||!s&&n<3600&&function(e){return 1===e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({minutes:Math.floor(n/60)})||!s&&n<7200&&"1 hour ago"||!s&&n<43200&&function(e){return 1===e.hours?e.hours+" hour ago":e.hours+" hours ago"}({hours:Math.floor(n/3600)})||!s&&n<86400&&"today"||!s&&n<172800&&"yesterday"||!s&&n<604800&&function(e){return e.days+" days ago"}({days:Math.floor(n/86400)})||!s&&n<2592e3&&function(e){return 1===e.weeks?e.weeks+" week ago":e.weeks+" weeks ago"}({weeks:Math.floor(n/604800)})||n<31536e3&&function(e){return 0===e.months?"":1===e.months?e.months+" month ago":e.months+" months ago"}({months:Math.floor(n/2635200)})||!s&&function(s){const o=e(t+31536e3*Math.floor(n/31536e3),!0);return(1===s.years?s.years+" year":s.years+" years")+(o?", "+o:" ago")}({years:Math.floor(n/31536e3)})}(a),timeUTC:function(e){var t=new Date;return t.setTime(1e3*e),[t.getUTCFullYear(),"-",s(t.getUTCMonth()+1),"-",s(t.getUTCDate())," ",s(t.getUTCHours()),":",s(t.getUTCMinutes()),":",s(t.getUTCSeconds()),"Z"].join("");function s(e){return e<10?"0"+e:e}}(a),prefix:"asked"};const f={};t&&(f.reputation={amount:be(t,"reputation"),title:"reputation score"},e&&(f.badges=e)),fe.user={accountLink:s,displayName:o,profileImage:n,isModerator:"moderator"===r,achievements:f}}else{const e=le.querySelectorAll("."+s);if(e.length<3)return;const t=e[0],n=e[1],o=e[2],r=document.querySelector(`${re}:not(.d-none)`);fe.answer={isAnswered:!t.textContent.trim().startsWith("0"),hasAcceptedAnswer:!!r,text:t.textContent.trim()},fe.postScore=n.textContent.trim().replace(" votes","").replace(" vote",""),fe.viewCount=o.textContent.trim().replace(" views","").replace(" view",""),fe.title={link:pe.href,text:pe.textContent};const i=document.querySelectorAll(`${ne} .${w}`);fe.tags=[...i].filter((e=>!e.querySelector(se))).map((e=>{const t=e.cloneNode();return t.className=h,t.textContent=e.textContent,t}));const a=le.querySelector("."+y);if(!a)return;fe.user=C(a,{userLink:"."+$,userAvatar:"."+M,userAwards:"."+z,userReputation:oe.userReputation,userBadges:oe.badges,moderatorFlair:"."+W});const d=a.querySelector("."+j);if(!d)return;fe.postedTime=E(d)}const ye=function({link:e,text:t}){const s=document.createElement("a");return s.classList.add(d,c),s.href=e,s.innerText=t,s}(fe.title),ve=function(e){const t=document.createElement("div");t.classList.add(v),t.append(...e);const s=document.createElement("div");return s.classList.add(y),s.append(t),s}(fe.tags),he=function(e,t){const s=k,n=T(e,s),o=A(e,s),r=document.createElement("div");r.classList.add($,N),r.style.alignItems="baseline",r.style.paddingLeft="0px",r.style.paddingTop="6px",r.append(o,n);const{achievements:i}=e;return i&&0!==Object.getOwnPropertyNames(i).length?r.append(O(i)):r.classList.add(R),r.append(B(t,s)),r}(fe.user,fe.postedTime);if(e)Se(le,function(e,t,s){const o=document.createElement("div");return o.classList.add(n),o.style.flexDirection="column",o.style.flexWrap="wrap",o.style.alignItems="flex-end",o.style.marginTop="8px",o.style.paddingRight="10px",o.append(e,t,s),o}(function({isAnswered:e,hasAcceptedAnswer:t,text:n}){const o=document.createElement("div");return o.classList.add(s),t?(o.classList.add(r,i),"undefined"!=typeof Svg?o.append(Svg.CheckmarkSm.With("va-text-bottom").get(0)):o.textContent="✓",o.append(F+n),o):(e&&o.classList.add(r),o.textContent=n,o)}(fe.answer),function(e){const t=document.createElement("div");t.classList.add(S,b);const[n]=ce.find((([t,s])=>s(parseInt(e))))||[];n&&t.classList.add(n),t.textContent=e,t.style.paddingTop="2px",t.style.marginTop="-1px";const o=document.createElement("div");return o.classList.add(s),o.textContent="score ",o.append(t),o}(fe.postScore),function(e){const t=document.createElement("div");t.classList.add(s);const n=de(e);return n.length>0&&(t.classList.add(n[0]),n[2]&&("undefined"!=typeof Svg?t.append(n[2]()):t.append("🔥"))),t.append(F+be(e,"views")+" views"),e>1e3&&(t.title=e),t.style.marginTop="-4px",t}(fe.viewCount)),we(ye,ve,he));else{const e=function(e){const t=(e,t)=>{const s=document.createElement("div"),n=document.createElement("span"),o=document.createElement("div"),r=document.createElement("div");switch(r.className=G,e){case"score":n.textContent=t.postScore,n.title="score: "+t.postScore,o.textContent="score",s.className=J,s.style.padding="7px 6px";break;case"answer":{const e=t.answer.text.replace(" answers","").replace(" answer",""),r=1===e?"answer":"answers";n.textContent=e,n.title=t.answer.text,o.textContent=r,s.className=Z,t.answer.hasAcceptedAnswer?s.classList.add(te):t.answer.isAnswered&&s.classList.add(ee);break}case"view":{const e=1===t.viewCount?"view":"views";n.textContent=be(t.viewCount),n.title=t.viewCount+" "+e,o.textContent=e;const i=de(t.viewCount);if(i.length>0){const e=i[0].replace("is-","");r.classList.add(e),o.classList.add(e)}s.className=X;break}}return r.append(n),s.append(r,o),s},s=document.createElement("a");return s.href=e.title.link,s.classList.add(Q),s.append(t("score",e),t("answer",e),t("view",e)),s}(fe);ve.style.marginRight="20px";const t=document.createElement("div");t.append(ve,he),he.style.paddingTop="revert";const s=he.querySelector("img");s&&(s.style.width="24px",s.style.height="24px",s.style.marginTop="-1px"),t.className=H,t.style.alignItems="baseline",Se(le,e,we(ye,t)),e.parentNode.classList.add(V)}function we(...e){const t=document.createElement("div");return t.classList.add(a),t.append(...e),t}function Se(e,s,n){const o=document.createElement("div");o.classList.add(t),o.style.marginBottom="15px",o.style.borderBottom="revert",o.append(s,n),o.id=ie,o.style.padding="6px",e.before(o),e.remove();const r=o.parentElement;r&&(r.style.marginTop="-5px"),U(n)}function be(e,t="views"){const s={views:[[1e6,1e5],[1e3,1e3]],reputation:[[1e6,1e5],[1e5,1e3],[1e4,100]]};if("reputation"===t&&e<1e4)return e.toLocaleString("en-US");if(e>1e3){const n=s[t].find((([t,s])=>e>t))[1];e=Math.round(e/n)*n}const n=[{divider:1e9,suffix:"g",views:0,reputation:1},{divider:1e6,suffix:"m",views:1,reputation:1},{divider:1e3,suffix:"k",views:0,reputation:1}].find((({divider:t})=>e>=t));return n?+(e/n.divider).toFixed(n[t])+n.suffix:e.toString()}}(),U()};!function(){if("Yes"!==g(o,"options.movePageTitleLink"))return;(e=>{const{selectors:{title:{title:t,header:s,learnMore:n}},classes:{spaces:{titleSpace:o},display:{container:r}}}=e,i=document.querySelector(t);if(!i)return!1;i.classList.add(r);const a=document.querySelector(s),d=(e=>{const t=document.createElement("div");return t.classList.add(e.classes.display.cell),t})(e);d.classList.add(o),a&&d.append(a);const c=i.querySelector(n),l=d.cloneNode();c&&l.append(c),((e,t)=>{(t||document).querySelectorAll(e.selectors.title.description).forEach((e=>e.remove()))})(e,i),i.append(d,l)})(_)}(),function(){if("Yes"!==g(o,"options.removeLineThrough"))return;const e=document.createElement("style");document.head.appendChild(e);const t=e.sheet;t&&t.insertRule(`\n              ${_.selectors.diffs.diffDelete} {\n                   text-decoration: initial;\n              }`)}(),l(W),document.addEventListener("visibilitychange",(()=>W(!0))),function(){const n="https://i.stack.imgur.com/",o=!document.body.classList.contains("theme-dark"),i=s+"-modal-",d={headerNtooltip:t+" - Settings",ids:{icon:i+"icon",header:i+"title",body:i+"body",aside:i+"base",radioName:i+"radioName",radioButtons:i+"RadioStyleChange",radioButtonLabel:i+"radioLabel",lineThrough:i+"previewLineThough",keepDiffChoices:i+"keepDiffChoices",quotaNotice:i+"quotaNotice"},classes:{icon:{iconItem:"-item",iconLink:"-link"},smodals:{modal:"s-modal",header:"s-modal--header",close:"s-modal--close",dialog:"s-modal--dialog",body:"s-modal--body",footer:"s-modal--footer"},margins:{negative:"gs8",zeroX:"gsx",top:"mt8"},naviagations:{base:"s-navigation",item:"s-navigation--item",selected:"is-selected"},toggle:{sweetch:"s-toggle-switch",indicator:"s-toggle-switch--indicator"},padding:{Y:"py16",top:"pt16"},notice:{info:"s-notice__info",approve:"fc-green-600"},title:{base:"s-page-title",header:"s-page-title--header"},reviewText:{post:"js-post-body",prose:"s-prose",diff:"diff-delete"},radios:{base:"s-radio",radioAction:"js-action-radio"},scroll:"overflow-y-scroll",select:"s-select",input:"s-input",label:"s-label",header:"js-user-header",pointerEventsNone:"pe-none"},attributes:{draggableTarget:"data-se-draggable-target",modalTarget:"data-s-modal-target"},colours:{toggleMutedOn:"var(--green-050)",toggleMutedoff:"var(--black-150)",muted:"var(--mp-muted-color)",active:"var(--fc-dark)",seperator:"var(--black-200)",border:"var(--black-075)"},sizes:{editorAvatar:{width:"200px",height:"66px"},labels:{fontSizeToggles:"1.15384615rem",fontSizeSmaller:"1.10rem",fontWeightSmaller:"525"}},hide:"s-modal#hide",show:"s-modal#show",draggable:"se-draggable",topMenuSelector:"ol.user-logged-in"},c=[{tabMenu:"Radios or Buttons",id:i+"RadiosOrButtons",tabDefault:!0,previewUpdates:{radiosButtons:e=>function(e,t,s,r,i){const a=D(e,t),d=D(e,s),c=D(e,r),l=D(e,i),p=a.lastElementChild,{firstElementChild:u,lastElementChild:m}=p,f=d.lastElementChild,y=c.lastElementChild,v=l.lastElementChild,h=g(S,"options.radioVsButtons"),w="Yes"===h?.moveRadioBox,b="Yes"===h?.keepRadios,x="Yes"===h?.radioWithBorders,C="Yes"===h?.largerClickArea,E="Yes"===h?.tooltips,{classes:{display:{desktopHide:L}}}=_;if(w&&b){u.classList.remove(L),m.classList.add(L),Q(e,t),V(f,x,{lightOn:"rtDv9.png",lightOff:"VdbX8.png",darkOn:"D3Qv1.png",darkOff:"to4Rl.png"});const s=[["oXow0.png",x,C],["GR5nm.png",x],["DzA5H.png",C],["5mSiL.png"]],r=[["xzpHa.png",x,C],["hZ8b7.png",x],["c5Yvs.png",C],["ck2v7.png"]],i=[["rFi20.png",x,E],["QH2tk.png",x],["TkAu6.png",E],["gG7kO.png"]],a=[["WW4Fg.png",x,E],["bP06H.png",x],["R8laG.png",E],["lARUW.png"]],d=o?s:r,c=o?i:a,[l]=d.find((([e,...t])=>t.every(Boolean))),[p]=c.find((([e,...t])=>t.every(Boolean)));y.src=`${n}${l}`,v.src=`${n}${p}`}else u.classList.add(L),m.classList.remove(L),w?(m.src=o?`${n}YxDs0.png`:`${n}FcrHn.png`,f.src=o?`${n}XPIdk.png`:`${n}Bf5Lm.png`,v.src=E?o?`${n}8RB1j.png`:`${n}8zGZF.png`:o?`${n}pNECy.png`:`${n}okMEA.png`):(m.src=`${n}WgO6m.png`,v.src=`${n}0ucaP.png`,f.src=o?`${n}Sr586.png`:`${n}9Y7O9.png`),y.src=`${n}0ucaP.png`}(e,"None, radios or buttons","Box, radios or buttons","Click Area","Tooltips"),radiosButtonsDetails:e=>Q(e,"None, radios or buttons")},needIntiliatize:["radiosButtons"],bottomSpace:["Keep radio buttons"],items:[{name:"Box, radios or buttons",type:"preview",create:()=>W(),displayOrder:2},{name:"None, radios or buttons",type:"preview",create:()=>function(){const{display:{cell:e,container:t,center:s},buttons:{button:n,primary:o,outlined:r},choiceRadios:{radioParent:i}}=_.classes,{ids:{radioButtons:a,radioName:c,radioButtonLabel:l},classes:{radios:{base:p,radioAction:u},margins:{negative:m,zeroX:g},label:f,pointerEventsNone:y}}=d,v=Y(),h=b("Submit",[n,o]),w=b("Skip",[n,r]);h.classList.add(y),w.classList.add(y),w.style.marginLeft="4px",w.style.minWidth="70px";const S=document.createElement("div");S.classList.add(t,s),S.style.marginLeft="10px",S.append(h,w);const x=["Approve","Improve edit","Reject and edit","Reject"].map((e=>T(e,l))),C=document.createElement("fieldset");C.classList.add(t,m),C.style.textAlign="center",C.append(...x,S),q(C,{padding:"10px 0px"}),C.style.transform="scale(0.91)";const E=document.createElement("div");E.style.paddingTop="3px",E.style.paddingBottom="7px",E.style.backgroundColor=M,E.append(C),E.classList.add(t),E.style.justifyContent="flex-end",C.style.justifyContent="flex-end",C.style.whiteSpace="nowrap",C.style.marginLeft="-20px",C.style.marginRight="-12px";const L=I();q(L);const k=document.createElement("div");return k.append(E,L),v.append(k),v;function T(t,s){const n=document.createElement("label");n.classList.add(e,f),n.htmlFor=s,n.textContent=t;const o=document.createElement("div");o.classList.add(e),o.append(n);const r=document.createElement("input");r.type="radio",r.classList.add(p,u),r.id=s,r.name=c;const d=document.createElement("div");d.classList.add(e),d.append(r);const l=document.createElement("div");l.classList.add(m,g,i),l.append(o,d);const y=document.createElement("div");return y.style.padding="4px","Approve"!==t&&(y.id=a),y.append(l),y}}(),displayOrder:9},{name:"Click Area",type:"preview",create:()=>H(),displayOrder:11},{name:"Tooltips",type:"preview",create:()=>H(),displayOrder:4},{name:"Move review actions",id:i+"moveReviewActions",configKey:"options.radioVsButtons.moveRadioBox",type:"toggle",toggleEntry:"Move review actions",dependents:["Keep radio buttons","Add tooltips"],refPreviewUpdates:["radiosButtons"],displayOrder:1},{name:"Keep radio buttons",id:i+"keepRadioButtons",configKey:"options.radioVsButtons.keepRadios",type:"toggle",indents:1,toggleEntry:"Move review actions",dependents:["with borders","Large click area"],refPreviewUpdates:["radiosButtons"],displayOrder:5},{name:"with borders",id:i+"radiosWithBorders",configKey:"options.radioVsButtons.radioWithBorders",type:"toggle",indents:1,toggleEntry:"Move review actions",dependents:["Border colour","Border width"],refPreviewUpdates:["radiosButtons"],displayOrder:6},{name:"Border colour",id:i+"radiosBordersColour",configKey:"colour.radioSeperator",type:"colour",indents:2,refPreviewUpdates:["radiosButtonsDetails"],displayOrder:7},{name:"Border width",id:i+"radiosSizeColour",configKey:"size.radioSeperator",type:"select",postfix:"px",values:[1,2,3,4,5],indents:2,refPreviewUpdates:["radiosButtonsDetails"],displayOrder:8},{name:"Large click area",id:i+"largeClickArea",configKey:"options.radioVsButtons.largerClickArea",type:"toggle",indents:1,toggleEntry:"Move review actions",refPreviewUpdates:["radiosButtons"],displayOrder:10},{name:"Add tooltips",id:i+"Tooltips",configKey:"options.radioVsButtons.tooltips",type:"toggle",indents:1,toggleEntry:"Move review actions",refPreviewUpdates:["radiosButtons"],displayOrder:3}]},{tabMenu:"User Cards",id:i+"UserCards",previewUpdates:{userCards:e=>function(e,t,s){const r=D(e,t),i=D(e,s),a=r.lastElementChild,d=i.lastElementChild,c=i.querySelector("img"),l=g(S,"options.userCards"),p="Yes"===l?.getUserCards,u="Yes"===l?.withEditiorStats,m=[[["0N0gd.png","ABwF9.png"],p,u],[["eGv5x.png","ABwF9.png"],p],[["yrz32.png","ZFoyD.png"]]],f=[[["tbGE3.png","ETSJS.png"],p,u],[["ldstt.png","ETSJS.png"],p],[["7Gw2y.png","aQz4W.png"]]],y=o?m:f,[[v,h]]=y.find((([e,...t])=>t.every(Boolean)));a.src=`${n}${v}`,c.src=`${n}${h}`;if(p&&u){if(d.children.length>1)return void G(null,null,i);const e=[{approval_date:1},{rejection_date:1},{rejection_date:1},{},{},{}],{colour:t,size:{editorStatistics:s}}=S,n=K(e,t,s);d.append(n)}else d.children.length>1&&d.lastElementChild.remove()}(e,"All user Cards","Editor Statistics"),editorStatistics:e=>G(e,"Editor Statistics"),StackUsercards:e=>function(e,t,s=D(e,t)){const r=s.lastElementChild,i=g(S,"options.userCards"),a="Yes"===i?.useStackUserCards,d="Yes"===i?.newContributor,c=[["Q9i5g.png",!a],["rUkpt.png",a&&!d],["DFvCY.png",a&&d]],l=[["sVN26.png",!a],["THeVj.png",a&&!d],["oYl0U.png",a&&d]],p=o?c:l,[u]=p.find((([e,t])=>t));r.src=`${n}${u}`}(e,"Preview Stack user cards"),ownerNotice:e=>ie(e,"Preview highlight owner")},needIntiliatize:["userCards","StackUsercards"],bottomSpace:["Add user cards","Stack Design user cards",'Editors do not get the "New contributor" indicator. This is only for demonstration purpose.'],items:[{name:"All user Cards",type:"preview",create:()=>function(){const e=Y(),t=I();return e.append(t),e}(),displayOrder:3},{name:"Editor Statistics",type:"preview",create:()=>function(){const{container:e}=_.classes.display,{sizes:{editorAvatar:{width:t,height:s}}}=d,n=Y(),o=document.createElement("img");o.style.width=t;const r=document.createElement("div");r.style.width=t,r.style.height=s,r.append(o);const i=document.createElement("div");return i.classList.add(e),i.style.whiteSpace="nowrap",i.style.overflow="hidden",q(i),i.append(r),n.append(i),n}(),displayOrder:10},{name:"Preview Stack user cards",type:"preview",create:()=>W(),displayOrder:13},{name:"Preview highlight owner",type:"preview",create:()=>function(){const{classes:{notice:{info:e,approve:t},margins:{top:s}}}=d,{classes:{notice:{base:n,listReset:o}}}=_,r=Y(),i=document.createElement("span");i.classList.add(t),i.textContent="Approved";const a=document.createElement("span");a.textContent=" 5 hours ago";const c=document.createElement("strong");c.append(i,a,":");const l=document.createElement("a");l.href="/users/-1/Community",l.textContent="Old Grumpy";const p=document.createElement("b");p.textContent="Approve";const u=document.createElement("div");u.append(l," reviewed this ",a.cloneNode(!0),": ",p);const m=document.createElement("li");m.append(u);const g=document.createElement("ul");g.classList.add(s,o),g.append(m);const f=document.createElement("div");return f.classList.add(n,e),f.append(c,g),r.append(f),ie(null,null,r),r}(),displayOrder:18},{name:'Editors do not get the "New contributor" indicator. This is only for demonstration purpose.',id:i+"newContributorNote",type:"note",indents:1,displayOrder:14},{name:"Add user cards",id:i+"addUserCards",configKey:"options.userCards.getUserCards",type:"toggle",toggleEntry:"Add user cards",dependents:["with editor statistics","Stack Design user cards","Highlight post owner in notice"],refPreviewUpdates:["userCards"],displayOrder:1},{name:"with editor statistics",id:i+"withEditorStatistics",configKey:"options.userCards.withEditiorStats",type:"toggle",indents:1,toggleEntry:"Add user cards",dependents:["Editor statistics options:","Header colour","Approved colour","Rejected colour","Total colour","Editor statistics text size"],refPreviewUpdates:["userCards"],displayOrder:2},{name:"Editor statistics options:",id:i+"editorStatisticsOptions",type:"header",indents:1,refPreviewUpdates:["editorStatistics"],displayOrder:4},{name:"Header colour",id:i+"editorStatisticsHeaderColour",configKey:"colour.editorHeader",type:"colour",indents:2,refPreviewUpdates:["editorStatistics"],displayOrder:5},{name:"Approved colour",id:i+"editorStatisticsApprovedColour",configKey:"colour.editorApproved",type:"colour",indents:2,refPreviewUpdates:["editorStatistics"],displayOrder:6},{name:"Rejected colour",id:i+"editorStatisticsRejectedColour",configKey:"colour.editorRejected",type:"colour",indents:2,refPreviewUpdates:["editorStatistics"],displayOrder:7},{name:"Total colour",id:i+"editorStatisticsTotalColour",configKey:"colour.editorTotal",type:"colour",indents:2,refPreviewUpdates:["editorStatistics"],displayOrder:8},{name:"Editor statistics text size",id:i+"editorStatisticsSize",configKey:"size.editorStatistics",type:"size",postfix:"%",indents:2,refPreviewUpdates:["editorStatistics"],displayOrder:9},{name:"Stack Design user cards",id:i+"StackUserCards",configKey:"options.userCards.useStackUserCards",type:"toggle",toggleEntry:"Add user cards",indents:1,dependents:['Show "New contributor"'],refPreviewUpdates:["StackUsercards"],displayOrder:11},{name:'Show "New contributor"',id:i+"ShowNewContributor",configKey:"options.userCards.newContributor",type:"toggle",toggleEntry:"Add user cards",indents:1,refPreviewUpdates:["StackUsercards"],displayOrder:12},{name:"Highlight post owner in notice",id:i+"ownerNotice",configKey:"options.highlightUserOwner",type:"toggle",toggleEntry:"Add user cards",dependents:["Background colour","Border colour"],indents:1,refPreviewUpdates:["ownerNotice"],displayOrder:15},{name:"Background colour",id:i+"ownerNoticeBackColour",configKey:"colour.ownerBackground",type:"colour",indents:2,refPreviewUpdates:["ownerNotice"],displayOrder:16},{name:"Border colour",id:i+"ownerNoticeBorderColour",configKey:"colour.ownerBorder",type:"colour",indents:2,refPreviewUpdates:["ownerNotice"],displayOrder:17}]},{tabMenu:"Move",id:i+"Move",previewUpdates:{progressBar:e=>Z(e,"Progress Bar"),diffChoices:e=>X(e,"Diff Choices"),pageTitleLink:e=>J(e,"Page Title Link"),postType:e=>ee(e,"Post Type"),postTypeColour:e=>te(e,"Post Type Colour Preview"),moveNextButton:e=>function(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.moveNextButtons"),{lightOn:"L1opa.png",lightOff:"ew69w.png",darkOn:"DFElk.png",darkOff:"GEpbV.png"})}(e,"Move Next Buttons")},needIntiliatize:["moveNextButton"],topSpaceSeparator:["Move diff choices","Rework page title","Move post type up","Move notice buttons"],items:[{name:"Progress Bar",type:"preview",create:()=>function(){const{container:e}=_.classes.display,{classes:{naviagations:{base:t,item:s,selected:n},padding:{Y:o},title:{base:r}}}=d,i=Y(),a=document.createElement("a");a.classList.add(s,n),a.textContent="Review tasks";const c=document.createElement("a");c.classList.add(s),c.textContent="Stats";const l=document.createElement("a");l.classList.add(s),l.textContent="History";const p=document.createElement("div");p.classList.add(t),p.style.margin="0px",p.append(a,c,l);const u=document.createElement("div");u.classList.add(r),u.style.flexDirection="column",u.style.alignItems="flex-end",u.append(p);const m=document.createElement("div");q(m,{padding:"3px",paddingTop:"12px",paddingBottom:"10px",marginBottom:"0px"}),m.classList.add(e),m.style.flexDirection="column",m.style.alignItems="flex-end";const g=function(){const{cell:e}=_.classes.display,t=document.createElement("div");t.classList.add(e);const s='\n                    <div class="d-flex ai-center sm:fd-column">\n                        <div class="flex--item mr12 ws-nowrap">\n                            <span>Your daily reviews</span>\n                            <span class="js-reviews-done mrn2">20</span>\n                            <span class="js-reviews-per-day" data-reviews-per-day="40">/40</span>\n                        </div>\n                        <div class="flex--item">\n                            <div class="s-progress wmn1 h8 bar-pill">\n                                <div class="s-progress--bar bar-pill js-review-progress"\n                                     role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"\n                                     style="width: 50%;"></div>\n                            </div>\n                        </div>\n                    </div>\n                ';return t.innerHTML=s,t}();return g.classList.add(o),m.append(u,g),i.append(m),Z(null,null,i),i}(),displayOrder:5},{name:"Diff Choices",type:"preview",create:()=>function(){const e=W();return X(null,null,e),e}(),displayOrder:7},{name:"Page Title Link",type:"preview",create:()=>function(){const e=W();return J(null,null,e),e}(),displayOrder:9},{name:"Post Type",type:"preview",create:()=>function(){const e=W();return ee(null,null,e),e}(),displayOrder:11},{name:"Post Type Colour Preview",type:"preview",create:()=>function(){const{classes:{title:{header:e}},colours:{border:t}}=d,s=Y(),n=document.createElement("h1");n.classList.add(e),n.textContent="Question",n.style.borderBottom=`1px solid ${t}`,n.style.margin="0px",n.style.paddingBottom="5px";const o=document.createElement("div");return o.style.textAlign="center",o.append(n),q(o,{padding:"3px",paddingTop:"12px",marginBottom:"0px"}),s.append(o),te(null,null,s),s}(),displayOrder:13},{name:"Move Next Buttons",type:"preview",create:()=>W(),displayOrder:15},{name:"Move progress bar",id:i+"moveProgressBar",configKey:"options.moveProgressBar",type:"toggle",toggleEntry:"Move progress bar",dependents:['Progress "done" colour','Progress "not done" colour',"Progress text colour"],refPreviewUpdates:["progressBar"],displayOrder:1},{name:'Progress "done" colour',id:i+"progressDoneColour",configKey:"colour.progressDone",type:"colour",refPreviewUpdates:["progressBar"],displayOrder:2},{name:'Progress "not done" colour',id:i+"progressNotDoneColour",configKey:"colour.progressNotDone",type:"colour",refPreviewUpdates:["progressBar"],displayOrder:3},{name:"Progress text colour",id:i+"progressTextColour",configKey:"colour.progressTextColour",type:"colour",refPreviewUpdates:["progressBar"],displayOrder:4},{name:"Move diff choices",id:i+"movePageTitleLink",configKey:"options.moveDiffChoices",type:"toggle",refPreviewUpdates:["diffChoices"],displayOrder:6},{name:"Rework page title",id:i+"movePageTitleLink",configKey:"options.movePageTitleLink",type:"toggle",refPreviewUpdates:["pageTitleLink"],displayOrder:8},{name:"Move post type up",id:i+"AnswerQuestionOnTop",configKey:"options.AnswerQuestionOnTop",type:"toggle",toggleEntry:"Move post type up",dependents:["Post type colour"],refPreviewUpdates:["postType","postTypeColour"],displayOrder:10},{name:"Post type colour",id:i+"postTypeColour",configKey:"colour.postType",type:"colour",refPreviewUpdates:["postTypeColour"],displayOrder:12},{name:"Move notice buttons",id:i+"moveNoticeButtons",configKey:"options.moveNextButtons",type:"toggle",toggleEntry:"Move notice buttons",refPreviewUpdates:["moveNextButton"],displayOrder:14}]},{tabMenu:"Highlight",id:i+"Highlight",previewUpdates:{summaryPreview:e=>re(e,"Summary Preview"),summaryUpdate:e=>function(e,t){if("Yes"!==g(S,"options.highlightSummary"))return;const s=D(e,t).lastElementChild,{colour:{summary:n},size:{summary:o}}=S;s.style.fontSize=o,s.style.color=n}(e,"Summary Preview"),messagePreview:e=>oe(e,"Message Preview"),messageUpdate:e=>function(e,t,s){if("Yes"!==g(S,"options.prominentReviewMessage"))return;s||(s=D(e,t));const n=s.lastElementChild.firstElementChild,{colour:{message:o,messageBackground:r},size:{message:i}}=S;n.style.color=o,n.style.backgroundColor=r,n.style.fontSize=i}(e,"Message Preview"),lineThrough:e=>ne(e,"Line through")},topSpaceSeparator:["Prominent review message","Remove LineThrough"],bottomSpace:["Highlight edit summary","Prominent review message","Remove LineThrough"],items:[{name:"Summary Preview",type:"preview",create:()=>function(){const{classes:{margins:{top:e}}}=d,{classes:{summary:t}}=_,s=Y(),n=document.createElement("p");return n.classList.add(t,e),n.textContent="Comment: Fixed something.",s.append(n),re(null,null,s),s}(),displayOrder:4},{name:"Message Preview",type:"preview",create:()=>function(){const{display:{container:e,cell:t},buttons:{button:s,primary:n},notice:{base:o}}=_.classes,{notice:{info:r},padding:{top:i},margins:{negative:a},pointerEventsNone:c}=d.classes,l=Y(),p=document.createElement("div"),u=document.createElement("div");u.classList.add(e,a,i);const m=b("Next task",[s,n,t]);return m.classList.add(c),u.append(m),p.classList.add(o,r),p.append(document.createTextNode("You are not able to review this item."),u),l.append(p),oe(null,null,l),l}(),displayOrder:9},{name:"Line through",type:"preview",create:()=>function(){const{ids:{lineThrough:e},classes:{reviewText:{post:t,prose:s,diff:n}}}=d,o=Y(),r=document.createElement("p");return r.classList.add(s,t),r.style.marginBottom="0px",r.append(document.createTextNode("You will always need to foo the bar")),r.append(i(" :)")),r.append(document.createTextNode(" If not you risk a baz occuring.")),r.append(i(" Thank you so much for reading and upvoting my post!")),q(r,{padding:"3px",marginBottom:"0px"}),o.append(r),ne(null,null,o),o;function i(t){const s=document.createElement("span");return s.classList.add(n),s.id=e,s.textContent=t,s}}(),displayOrder:11},{name:"Highlight edit summary",id:i+"highlightsummary",configKey:"options.highlightSummary",type:"toggle",toggleEntry:"Highlight edit summary",dependents:["Edit summary colour","Edit summary size"],refPreviewUpdates:["summaryPreview"],displayOrder:1},{name:"Edit summary colour",id:i+"summaryColour",configKey:"colour.summary",type:"colour",refPreviewUpdates:["summaryUpdate"],displayOrder:2},{name:"Edit summary size",id:i+"summarySize",configKey:"size.summary",postfix:"%",type:"size",refPreviewUpdates:["summaryUpdate"],displayOrder:3},{name:"Prominent review message",id:i+"prominentReviewMessage",configKey:"options.prominentReviewMessage",type:"toggle",toggleEntry:"Prominent review message",dependents:["Review message colour","Review message size","Review message background colour"],refPreviewUpdates:["messagePreview"],displayOrder:5},{name:"Review message colour",id:i+"reviewMessageColour",configKey:"colour.message",type:"colour",refPreviewUpdates:["messageUpdate"],displayOrder:6},{name:"Review message size",id:i+"reviewMessageSize",configKey:"size.message",postfix:"%",type:"size",refPreviewUpdates:["messageUpdate"],displayOrder:7},{name:"Review message background colour",id:i+"reviewMessageBackgroundColour",configKey:"colour.messageBackground",type:"colour",refPreviewUpdates:["messageUpdate"],displayOrder:8},{name:"Remove LineThrough",id:i+"removeLineThrough",configKey:"options.removeLineThrough",type:"toggle",refPreviewUpdates:["lineThrough"],displayOrder:10}]},{tabMenu:"Extras",id:i+"Extras",previewUpdates:{titleLinks:e=>function(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.linksOnTitles"),{lightOn:"O1O08.png",lightOff:"ki4wD.png",darkOn:"TM34Z.png",darkOff:"06tam.png"})}(e,"Title links"),keepDiffs:e=>se(e,"Keep Diff Choices"),newSummary:e=>function(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.postSummary.useStackSummary"),{lightOn:"zphgU.png",lightOff:"hunsb.png",darkOn:"TDBWF.png",darkOff:"bgZmI.png"})}(e,"Stack Summary"),quota:e=>function(e,t,s=D(e,t)){const n=s.querySelector("#"+d.ids.quotaNotice),o=g(S,"size.apiQuotaLimit");isNaN(o)||(n.innerHTML=n.innerHTML.replace(/\(remaining: \d+\)/,`(remaining: ${o})`))}(e,"Quota Notice Limit"),filters:e=>function(e,t,s=D(e,t)){const r=s.lastElementChild,i=g(S,"options.reviewFilters"),a="Yes"===i?.removeTextFilters,d="Yes"===i?.putAlertIcon,c="Yes"===i?.keepFilterList,l=[["hDRdU.png",!a],["nDJK9.png",d&&c],["XsHYT.png",d&&!c],["4P4Qo.png",!d&&c],["WPs4c.png",!d&&!c]],p=[["KREUM.png",!a],["9Cbil.png",d&&c],["OJqle.png",d&&!c],["oI6NR.png",!d&&c],["JDNgn.png",!d&&!c]],u=o?l:p,[m]=u.find((([e,t])=>t));r.src=`${n}${m}`}(e,"Filter Options"),modFlair:e=>function(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.wantNewModeratorFlair"),{lightOn:"j9pvo.png",lightOff:"7NThn.png",darkOn:"TrBPp.png",darkOff:"2KvL5.png"})}(e,"Moderator Flair")},needIntiliatize:["titleLinks","newSummary","filters","modFlair"],topSpaceSeparator:["Always diff choices","Stack Design post summary","API quota warning:","Remove plain filters","Stack Design moderator flair"],bottomSpace:["Stack Design post summary","Remove plain filters","Insert alert icon"],items:[{name:"Title links",type:"preview",create:()=>W(),displayOrder:2},{name:"Keep Diff Choices",type:"preview",create:()=>function(){const{colours:{border:e}}=d,t=Y(),s=I();s.src=o?`${n}A2Xxz.png`:`${n}h7zwG.png`;const r=document.createElement("div");r.style.borderTop=`1px solid ${e}`,q(r,{paddingTop:"10px"}),r.append(s);const i=document.createElement("div");return q(i,{paddingTop:"10px",paddingLeft:"10px"}),i.append(r),t.append(i),se(null,null,t),t}(),displayOrder:5},{name:"Stack Summary",type:"preview",create:()=>W(),displayOrder:8},{name:"Quota Notice Limit",type:"preview",create:()=>function(){const t=Y(),s=N(g(S,"size.apiQuotaLimit")||g(e,"size.apiQuotaLimit"),"quota",d.ids.quotaNotice);return t.append(s),t}(),displayOrder:11},{name:"Filter Options",type:"preview",create:()=>W(),displayOrder:15},{name:"Moderator Flair",type:"preview",create:()=>W(),displayOrder:17},{name:'Applies to "Stack Design user cards", "Stack Design post summary", and Community user.',id:i+"onlyStackDesignNote",type:"note",indents:1,displayOrder:18},{name:"Links in titles",id:i+"linksInTitles",configKey:"options.linksOnTitles",type:"toggle",refPreviewUpdates:["titleLinks"],displayOrder:1},{name:"Always diff choices",id:i+"keepDiffChoices",configKey:"options.keepDiffChoices",type:"toggle",toggleEntry:"Always diff choices",dependents:["added diff choices colour"],refPreviewUpdates:["keepDiffs"],displayOrder:3},{name:"added diff choices colour",id:i+"keepDiffChoicesColour",configKey:"colour.diffChoices",type:"colour",refPreviewUpdates:["keepDiffs"],displayOrder:4},{name:"Stack Design post summary",id:i+"StackPostSummary",configKey:"options.postSummary.useStackSummary",type:"toggle",toggleEntry:"Stack Design post summary",refPreviewUpdates:["newSummary"],displayOrder:6},{name:"Using Stack Exchange API",id:i+"StackPostSummary",configKey:"options.postSummary.useAPI",type:"toggle",toggleEntry:"Using Stack Exchange API",displayOrder:7},{name:"API quota warning:",id:i+"quotaWarning",type:"header",indents:0,displayOrder:9},{name:"show at (0 - 9999)",id:i+"quotaLimit",configKey:"size.apiQuotaLimit",type:"size",maxValue:9999,refPreviewUpdates:["quota"],displayOrder:10},{name:"Remove plain filters",id:i+"RemovePlainFilters",configKey:"options.reviewFilters.removeTextFilters",type:"toggle",toggleEntry:"Remove plain filters",dependents:["Insert alert icon","Show TinyTags™"],refPreviewUpdates:["filters"],displayOrder:12},{name:"Insert alert icon",id:i+"InsertAlertIcon",configKey:"options.reviewFilters.putAlertIcon",type:"toggle",indents:1,toggleEntry:"Remove plain filters",refPreviewUpdates:["filters"],displayOrder:13},{name:"Show TinyTags™",id:i+"InsertAlertIcon",configKey:"options.reviewFilters.keepFilterList",type:"toggle",indents:1,toggleEntry:"Remove plain filters",refPreviewUpdates:["filters"],displayOrder:14},{name:"Stack Design moderator flair",id:i+"StackModeratorFlair",configKey:"options.wantNewModeratorFlair",type:"toggle",toggleEntry:"Stack Design moderator flair",refPreviewUpdates:["modFlair"],displayOrder:16}]}];function y(t=!1){if(t)c.forEach((e=>{o(e,S)}));else{const t=document.querySelector(`#${d.ids.body} > div`);o((s=c,n=t.id,s.find((({id:e})=>e===n))),e)}var s,n;function o(t,s){t.items.forEach((t=>{const n=t.element,o=t.id;if(o){!function(t,s,n){const{configKey:o}=s;if(!o)return;({checkbox:e=>e.checked="Yes"===g(n,o),color:e=>e.value=U(g(n,o))||"#000000",number:t=>t.value=g(n,o)?.replace(s.postfix,"")||g(e,o)?.replace(s.postfix,"")||"","select-one":e=>e.value=g(n,o)})[t.type](t),t.dispatchEvent(new Event("change",{bubbles:!0}))}(n.querySelector("#"+o),t,s)}}))}}let S;function b(e,t){const s=document.createElement("button");return s.type="button",s.classList.add(...t),s.textContent=e,s}l((function(){const{show:e,topMenuSelector:t,headerNtooltip:s,ids:{icon:n},classes:{icon:o,smodals:{modal:i}}}=d;if(document.querySelector(`${t} #${n}`))return;const l=document.createElement("a");l.classList.add(o.iconLink),"undefined"!=typeof Svg?l.append(Svg.Gear().get(0)):(l.textContent="⚙️",l.style.fontSize="125%"),l.title=s;const m=document.createElement("li");m.classList.add(o.iconItem),m.id=n,m.append(l),document.querySelector(t)?.append(m),m.addEventListener("click",(()=>{const t=function(e){const{ids:{aside:t},classes:{smodals:{modal:s}},attributes:{modalTarget:n}}=d,o=document.createElement("aside");return o.classList.add(s),o.id=t,o.setAttribute(n,"modal"),o.append(e),o}(function(){S=r();const e=function(){const{headerNtooltip:e,ids:{header:t},classes:{smodals:{header:s}},attributes:{draggableTarget:n}}=d,o=document.createElement("h3");return o.classList.add(s),o.setAttribute(n,"handle"),o.id=t,o.style.fontSize="1.72rem",o.textContent=e,o}(),t=function(){const{classes:{naviagations:{base:e},header:t}}=d,s=document.createElement("ul");return s.classList.add(e,t),s}(),s=function(){const{ids:{body:e},classes:{scroll:t,smodals:{body:s}}}=d,n=document.createElement("div");return n.classList.add(s),n.id=e,n.style.paddingTop="20px",n.style.maxHeight=window.innerHeight-275+"px",n.classList.add(t),n.style.marginRight="-15px",n.style.paddingRight="15px",n}();!function(e,t){const s=c.map((s=>{const n=function(e){const t=p(c,e),s={preview:L,toggle:P,colour:A,select:k,size:T,header:O,note:B},n=t.items.sort(((e,t)=>e.displayOrder-t.displayOrder)).map((t=>s[t.type](t.name,e)));(t.needIntiliatize||[]).forEach((s=>t.previewUpdates[s](e))),(t.bottomSpace||[]).forEach((e=>{u(t.items,e).element.style.paddingBottom="5px"})),(t.topSpaceSeparator||[]).forEach((e=>function(e){const{colours:{seperator:t}}=d;e.style.paddingTop="20px",e.style.borderTop=`3px solid ${t}`}(u(t.items,e).element))),function(e){const t=p(c,e).items;new Set(t.map((({toggleEntry:e})=>e))).forEach((t=>t&&z(e,t)))}(e);const o=document.createElement("div");return o.id=p(c,e).id,o.append(...n),o}(s.tabMenu),o=function(e,t=!1){const{classes:{naviagations:{item:s,selected:n}}}=d,o=document.createElement("li");return o.classList.add(s),t&&o.classList.add(n),o.textContent=e,o}(s.tabMenu,s.tabDefault);return s.tabDefault&&t.append(n),function(e,t,s,n){const{classes:{naviagations:{selected:o}}}=d;t.addEventListener("click",(()=>{[...e.children].forEach((e=>e.classList.remove(o))),s.replaceChild(n,s.firstElementChild),t.classList.add(o)}))}(e,o,t,n),o}));e.append(...s)}(t,s);const n=function(){const{display:{cell:e,container:t},buttons:{button:s,primary:n,danger:o,outlined:i}}=_.classes,{hide:c,classes:{smodals:{footer:l},margins:{negative:p,zeroX:u}}}=d,m=b("Apply & Exit",[e,s,n]),g=b("Cancel",[e,s]);m.addEventListener("click",(()=>a(S))),m.dataset.action=c,g.addEventListener("click",(()=>{S=r(),y(!0)})),g.dataset.action=c;const f=document.createElement("div");f.classList.add(t,u,p),f.append(m,g);const v=b("Restore tab settings",[s,o,i]);v.addEventListener("click",(e=>y(!1)));const h=document.createElement("div");return h.classList.add(t,p,u,l),h.style.justifyContent="space-between",h.append(v,f),h}(),o=function(){const{buttons:{button:e,muted:t}}=_.classes,{hide:s,classes:{smodals:{close:n}}}=d,o=b("",[n,e,t]);return"undefined"!=typeof Svg?o.append(Svg.ClearSm().get(0)):o.textContent="✖",o.dataset.action=s,o}(),i=function(){const{draggable:e,classes:{smodals:{dialog:t}}}=d,s=document.createElement("div");return s.classList.add(t),s.dataset.controller=e,s}();return i.append(e,t,s,n,o),i}());m.append(t),l.dataset.action=e,m.dataset.controller=i,setTimeout((()=>l.click()),0)}),{once:!0})}));const x=15;function C(e,t){const s=e.refPreviewUpdates||[],n=p(c,t);return s.map((e=>n.previewUpdates[e]))}function E(){const{container:e,center:t}=_.classes.display,s=document.createElement("div");return s.classList.add(e,t),s}function L(e,t){const s=m(c,t,e),n=s.create();return s.element=n,n}function k(e,t){const s=m(c,t,e),n=function(e,t,s,n,o,r=1){const{classes:{select:i},sizes:{labels:{fontSizeSmaller:a,fontWeightSmaller:c}}}=d,l=E(),p=$(e,t,{fontSize:a,width:"160px",alignIndents:r,fontWeight:c}),u=document.createElement("select");u.id=t;const m=n.map((e=>{const t=document.createElement("option");return t.value=e,t.textContent=e,t}));u.append(...m),u.value=s.replace(o,""),u.style.padding=".4em .3em";const g=document.createElement("div");g.classList.add(i),g.style.width="45px",g.style.textAlign="right",g.append(u);const f=$(o,t,{fontSize:a,fontWeight:c});return l.append(p,g,f),l}(e,s.id,g(S,s.configKey),s.values,s.postfix,s.indents);s.element=n;const o=C(s,t);return n.addEventListener("change",(e=>{f(S,s.configKey,e.target.value),o.forEach((e=>e(t)))})),n}function T(e,t){const s=m(c,t,e),n=function(e,t,s,n,o,r=1){const{classes:{input:i},sizes:{labels:{fontSizeSmaller:a,fontWeightSmaller:c}}}=d,l=E(),p=$(e,t,{fontSize:a,width:"160px",alignIndents:r,fontWeight:c});p.style.marginRight="10px";const u=document.createElement("input");u.classList.add(i),u.type="number",u.min="0",u.max=n,u.id=t,s&&(u.value=s.replace(o,""));u.style.width=8*Math.ceil(Math.log10(n))+16+12+"px",u.style.textAlign="right",u.style.padding=".2em .3em",u.addEventListener("input",(({target:e})=>{const{valueAsNumber:t,max:s,min:n}=e;e.value=Math.floor(t)||n,t>+s&&(e.value=s),t<+n&&(e.value=n)}));const m=$(o,t,{fontSize:a,fontWeight:c});return l.append(p,u,m),l}(e,s.id,g(S,s.configKey),s.maxValue||250,s.postfix,s.indents);s.element=n;const o=C(s,t);return n.addEventListener("change",(e=>{f(S,s.configKey,e.target.value+(s.postfix||"")),o.forEach((e=>e(t)))})),n}function A(e,t){const s=m(c,t,e),n=function(e,t,s,n=1){const o=E(),{sizes:{labels:{fontSizeSmaller:r,fontWeightSmaller:i}}}=d,a=$(e,t,{fontSize:r,fontWeight:i}),c=U(s)||"#000000",l=document.createElement("input");return l.type="color",l.id=t,l.value=c,l.style.margin="2px",l.style.marginLeft=n*x+"px",l.style.marginRight="10px",l.style.borderRadius="5px",l.style.height="25px",l.style.width="44px",o.append(l,a),o}(e,s.id,g(S,s.configKey),s.indents);s.element=n;const o=C(s,t);return n.addEventListener("change",(e=>{f(S,s.configKey,e.target.value),o.forEach((e=>e(t)))})),n}function O(e,t){const s=m(c,t,e),n=function(e,t,s=0){const{display:{cell:n}}=_.classes,{classes:{label:o},sizes:{labels:{fontSizeToggles:r}}}=d,i=E(),a=document.createElement("p");return a.classList.add(n,o),a.id=t,a.textContent=e,a.style.fontSize=r,a.style.marginBottom="10px",a.style.marginLeft=s*x+"px",i.append(a),i}(e,s.id,s.indents);return s.element=n,n}function B(e,t){const s=m(c,t,e),n=function(e,t,s=0){const n=document.createElement("sup");n.style.marginLeft=s*x+"px",n.textContent="Note: "+e;const o=document.createElement("div");return o.id=t,o.append(n),o}(e,s.id,s.indents);return s.element=n,n}function P(e,t){const s=m(c,t,e),n=function(e,t,s,n=0){const{display:{cell:o}}=_.classes,{classes:{toggle:{sweetch:r,indicator:i}},sizes:{labels:{fontSizeToggles:a}}}=d,c=E();c.style.justifyContent="space-between";const l=$(e,t,{indents:n,fontSize:a}),p=document.createElement("div");p.classList.add(o,r);const u=document.createElement("input");u.type="checkbox",u.id=t,u.checked="Yes"===s;const m=document.createElement("span");return m.classList.add(i),p.append(u,m),c.append(l,p),c}(e,s.id,g(S,s.configKey),s.indents);s.element=n;const o=C(s,t);return n.addEventListener("change",(n=>{f(S,s.configKey,n.target.checked?"Yes":"No"),z(t,e),o.forEach((e=>e(t)))})),n}function $(e,t,s){const{classes:{label:n}}=d,o=document.createElement("label");o.classList.add(n),o.htmlFor=t,o.textContent=e;const{fontSize:r,fontWeight:i,width:a,indents:c,alignIndents:l}=s;return r&&(o.style.fontSize=s.fontSize),i&&(o.style.fontWeight=i),a&&(o.style.width=a),c&&(o.style.marginLeft=c*x+"px"),l&&(o.style.marginLeft=l*x+10+44+"px"),o}function q(e,t={}){const{padding:s,paddingTop:n,paddingLeft:o,paddingBottom:r,marginBottom:i}=t;e.style.backgroundColor=M,s&&(e.style.padding=s),o&&(e.style.paddingLeft=o),n&&(e.style.paddingTop=n),r&&(e.style.paddingBottom=r),i&&(e.style.marginBottom=i)}function U(e){if(!e)return null;if(e.startsWith("#"))return e;const t=document.createElement("div");t.style.color=e,document.body.appendChild(t);const s=window.getComputedStyle(t).color;return t.remove(),function(e){const t=e.match(/^rgba?\((\d+),\s?(\d+),\s?(\d+)\)$/i);if(!t)return;return"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)}(s)}function z(e,t){const s=p(c,e).items;let n=u(s,t);n.toggleEntry&&(t!==n.toggleEntry&&(n=u(s,n.toggleEntry)),function e(t,n,o){if(o>5)return;o>0&&function(e,t){const s=e.element;if(!s)return;const{classes:{select:n,toggle:{sweetch:o}},colours:{active:r,muted:i,toggleMutedOn:a,toggleMutedoff:c}}=d;t?[...s.children].forEach((t=>{if("toggle"===e.type&&t.classList.contains(o)){const e=t.firstElementChild,s=t.lastElementChild;e.disabled=!0,e.checked?s.style.background=a:s.style.background=c}else t.disabled=!0,t.style.color=i,"select"===e.type&&t.classList.contains(n)&&(t.firstElementChild.disabled=!0)})):[...s.children].forEach((t=>{if("toggle"===e.type&&t.classList.contains(o)){const e=t.firstElementChild,s=t.lastElementChild;e.disabled=!1,s.removeAttribute("style")}else t.disabled=!1,t.style.color=r,"select"===e.type&&t.classList.contains(n)&&(t.firstElementChild.disabled=!1)}))}(t,n);if(t.dependents){const r=g(S,t.configKey);t.dependents.forEach((t=>e(u(s,t),n||"Yes"!==r,o+1)))}}(n,!1,0))}function D(e,t){return m(c,e,t).element}function Y(){const{colours:{border:e}}=d,t=document.createElement("div");t.style.width="500px",t.style.margin="5px",t.style.marginTop="10px",t.style.marginBottom="10px",t.style.padding="5px",t.style.border=`3px solid ${e}`,t.style.borderRadius="5px";const s=document.createElement("p");return s.style.borderBottom=`1px solid ${e}`,s.style.marginBottom="5px",s.textContent="Preview:",t.append(s),t}function I(){const e=document.createElement("img");return e.style.width="100%",e}function W(){const e=Y(),t=I();return e.append(t),e}function H(){const e=Y(),t=I();return q(t),e.append(t),e}function V(e,t,s){const{lightOn:r,lightOff:i,darkOn:a,darkOff:d}=s;e.src=o?t?`${n}${r}`:`${n}${i}`:t?`${n}${a}`:`${n}${d}`}function Q(e,t){const s=D(e,t),{ids:{radioButtons:n}}=d,{colour:{radioSeperator:o},size:{radioSeperator:r}}=S,i="Yes"===g(S,"options.radioVsButtons.radioWithBorders");s.querySelectorAll(`#${n}`).forEach((e=>{i?(e.style.paddingLeft="3px",e.style.borderLeft=`${o} solid ${r}px`):(e.style.paddingLeft="4px",e.style.borderLeft="none")}))}function G(e,t,s=D(e,t)){const n=s.lastElementChild.querySelector("table");if(!n)return;const o=n.children,{size:{editorStatistics:r},colour:i}=S;n.style.fontSize=r,o[0].style.color=i.editorHeader,o[1].style.color=i.editorApproved,o[2].style.color=i.editorRejected,o[3].style.color=i.editorTotal}function J(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.movePageTitleLink"),{lightOn:"9JnTg.png",lightOff:"26MhB.png",darkOn:"19rOX.png",darkOff:"QS05y.png"})}function X(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.moveDiffChoices"),{lightOn:"xJT8x.png",lightOff:"kTaNQ.png",darkOn:"mPovF.png",darkOff:"N9JyH.png"})}function Z(e,t,s=D(e,t)){const n=s.querySelector("."+d.classes.naviagations.selected);if("Yes"===g(S,"options.moveProgressBar")){const e=S.colour,{daily:t,done:o}=_.selectors.reviews;j(n,e,s.querySelector(t),s.querySelector(o),!1)}else{n.removeAttribute("style"),n.textContent="Review tasks";const e=s.querySelector("#"+_.ids.custom.progressBar);e&&(e.style.visibility="visible")}}function ee(e,t,s=D(e,t)){V(s.lastElementChild,"Yes"===g(S,"options.AnswerQuestionOnTop"),{lightOn:"yJZuA.png",lightOff:"AdHvl.png",darkOn:"JyPv5.png",darkOff:"1mtpe.png"})}function te(e,t,s=D(e,t)){const n=s.lastElementChild.firstElementChild;"Yes"===g(S,"options.AnswerQuestionOnTop")?(n.textContent="Question",n.style.color=S.colour.postType):n.textContent=F}function se(e,t,s=D(e,t)){const n=d.ids.keepDiffChoices,o="Yes"===g(S,"options.keepDiffChoices"),r=s.lastElementChild.lastElementChild;if(o){let e=r.querySelector("#"+n);e||(e=h(n,!0),r.lastElementChild.before(e));[...r.querySelectorAll("button")].forEach((e=>e.style.color=S.colour.diffChoices))}else{const e=r.querySelector("#"+n);e&&e.remove()}}function ne(e,t,s=D(e,t)){const{ids:{lineThrough:n}}=d;"Yes"===g(S,"options.removeLineThrough")?[...s.querySelectorAll("#"+n)].forEach((e=>e.style.textDecoration="initial")):[...s.querySelectorAll("#"+n)].forEach((e=>e.style.textDecoration="line-through"))}function oe(e,t,s=D(e,t)){const n=s.lastElementChild;if("Yes"===g(S,"options.prominentReviewMessage")){const{colour:{message:e,messageBackground:t},size:{message:s}}=S;w(n,e,t,s)}else""===n.firstChild.nodeValue&&(n.firstElementChild.remove(),n.firstChild.nodeValue="You are not able to review this item.")}function re(e,t,s=D(e,t)){const n=s.lastElementChild,{classes:{summary:o}}=_;if("Yes"===g(S,"options.highlightSummary")){const{colour:{summary:e},size:{summary:t}}=S;v(n,e,t,o)}else{const e=n.textContent;n.textContent=(e||"").trim().replace(/^Summary/,"Comment"),n.removeAttribute("style"),n.classList.add(o)}q(n,{padding:"3px",marginBottom:"0px"})}function ie(e,t,s=D(e,t)){const n=s.lastElementChild;if("Yes"===g(S,"options.highlightUserOwner"))R(n,"/users/-1/Community",S);else{const e=n.querySelector("a");e.removeAttribute("style"),e.className=""}}}()}();